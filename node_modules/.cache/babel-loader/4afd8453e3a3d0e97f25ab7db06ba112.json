{"ast":null,"code":"import _classCallCheck from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sai04/Documents/Source/cmsaeroaja/src/pages/home/Component.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { Row, Col } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport { changeActiveTabs } from \"../../actions/index\"; // SCREEN\n\nimport Dashboard from \"../dashboard/index\";\nimport DataFlight from \"../flight/index\";\nimport DataHotel from \"../hotel/index\";\nimport DataUser from \"../user/index\";\nimport ChangePassword from \"../change-password/index\";\nimport Report from \"../report/index\";\nimport Setting from \"../setting/index\";\nimport Notifications from \"../notification/index\";\nimport PushNotifications from \"../notification/push-notifications/index\";\nimport Register from \"../register/index\";\nimport UserTraveler from \"../user/traveler/index\";\nvar routes = [{\n  path: \"/dashboard\",\n  exact: true,\n  main: function main() {\n    return React.createElement(Dashboard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    });\n  },\n  userRole: [1, 2, 3]\n}, {\n  path: \"/data-flight\",\n  exact: false,\n  main: function main() {\n    return React.createElement(DataFlight, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    });\n  },\n  userRole: [1, 2, 3]\n}, {\n  path: \"/data-hotel\",\n  exact: false,\n  main: function main() {\n    return React.createElement(DataHotel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    });\n  },\n  userRole: [1, 2, 3]\n}, {\n  path: \"/data-user\",\n  exact: false,\n  main: function main() {\n    return React.createElement(DataUser, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    });\n  },\n  userRole: [1]\n}, {\n  path: \"/user-traveler\",\n  exact: false,\n  main: function main() {\n    return React.createElement(UserTraveler, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    });\n  },\n  userRole: [1]\n}, {\n  path: \"/setting\",\n  exact: false,\n  main: function main() {\n    return React.createElement(Setting, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    });\n  },\n  userRole: [1]\n}, {\n  path: \"/report\",\n  exact: false,\n  main: function main() {\n    return React.createElement(Report, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    });\n  },\n  userRole: [1]\n}, {\n  path: \"/change-password\",\n  exact: false,\n  main: function main() {\n    return React.createElement(ChangePassword, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    });\n  },\n  userRole: [1, 2, 3]\n}, {\n  path: \"/notifications\",\n  exact: false,\n  main: function main() {\n    return React.createElement(Notifications, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    });\n  },\n  userRole: [1, 2, 3]\n}, {\n  path: \"/push-notifications\",\n  exact: false,\n  main: function main() {\n    return React.createElement(PushNotifications, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    });\n  },\n  userRole: [1]\n}, {\n  path: \"/register\",\n  exact: false,\n  main: function main() {\n    return React.createElement(Register, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    });\n  },\n  userRole: [1, 2, 3]\n}];\n\nvar Home =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.handleLogout = function () {\n      var dispatch = _this.props.dispatch;\n      var logOutAction = _this.props.loginActions.logOutAction;\n      logOutAction(dispatch);\n    };\n\n    _this.handleChangePages = function (pages) {\n      if (pages === \"home\") {\n        _this.props.dispatch(changeActiveTabs(5));\n      }\n\n      _this.props.history.push(pages);\n\n      _this.setState({\n        currentPage: pages\n      });\n    };\n\n    _this.handleFilterUserRole = function (obj) {\n      var userRole = _this.props.global.userRole;\n      var checkUserAccessMenu = false;\n\n      for (var j = 0; j < obj.userRole.length; j++) {\n        if (userRole === obj.userRole[j]) {\n          checkUserAccessMenu = true;\n          break;\n        }\n      }\n\n      if (checkUserAccessMenu) {\n        return obj;\n      }\n    };\n\n    _this.dataGroupRoleApi = [];\n    _this.dataGenerateMenu = [];\n    _this.state = {\n      hasreload: false,\n      currentPage: \"\"\n    };\n    _this.dataGroupRoleApi = _this.generateGroupRoleApi();\n    _this.dataGenerateMenu = [{\n      title: 'Diagram Reporting',\n      value: 'dashboard',\n      active: true,\n      userRole: _this.dataGroupRoleApi\n    }, {\n      title: 'Data Flight',\n      value: 'data-flight',\n      active: false,\n      userRole: _this.dataGroupRoleApi\n    }, {\n      title: 'Data Users CMS',\n      value: 'data-user',\n      active: false,\n      userRole: [1]\n    }, // {\n    //   title:'Data Users Traveler',\n    //   value:'user-traveler',\n    //   active:false,\n    //   userRole:[1]\n    // },\n    {\n      title: 'Setting',\n      value: 'setting',\n      active: false,\n      userRole: [1]\n    }, {\n      title: 'Report',\n      value: 'report',\n      active: false,\n      userRole: [1]\n    }, // {\n    //   title:'Push Notification',\n    //   value:'notifications',\n    //   active:false,\n    //   userRole:this.dataGroupRoleApi\n    // },\n    {\n      title: 'Change Password',\n      value: 'change-password',\n      active: false,\n      userRole: _this.dataGroupRoleApi\n    }];\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"generateGroupRoleApi\",\n    value: function generateGroupRoleApi() {\n      var _dataGroupRole = [];\n      var dataGroupRole = this.props.global.dataGroupRole;\n\n      if (dataGroupRole != null) {\n        dataGroupRole.map(function (obj) {\n          _dataGroupRole.push(obj.id);\n        });\n      }\n\n      return _dataGroupRole;\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (this.props.history.location.pathname === '/') {\n        this.props.history.push('./dashboard');\n      }\n    }\n  }, {\n    key: \"generateRenderMenuRole\",\n    value: function generateRenderMenuRole() {\n      var _this2 = this;\n\n      var routerActive = this.props.location.pathname.substring(1);\n      return React.createElement(Col, {\n        className: \"sectionSideBar\",\n        lg: \"2\",\n        md: \"2\",\n        sm: \"12\",\n        xs: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sidebarMenuSection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"HeadingTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Menu Utama\"), this.dataGenerateMenu.filter(this.handleFilterUserRole.bind(this)).map(function (obj, i) {\n        return React.createElement(Row, {\n          key: i,\n          className: \"pt10\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(Link, {\n          onClick: function onClick() {\n            return _this2.handleChangePages(obj.value);\n          },\n          className: // this.state.currentPage === obj.value \n          routerActive === obj.value ? \"menuActive\" : \"menuNormal\",\n          to: \"/\".concat(obj.value),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, obj.title));\n      }), true ? React.createElement(Row, {\n        className: \"pt10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.handleLogout,\n        className: \"menuNormal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Log Out\")) : []));\n    }\n  }, {\n    key: \"handleReload\",\n    value: function handleReload() {\n      window.location.reload();\n      this.setState({\n        hasreload: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // console.log(\"IS LOGIN\");\n      // console.log(this.props.login.isLogin);\n      var isLogin = this.props.login.isLogin;\n      if (isLogin == false) return [];\n      setTimeout(function () {\n        if (_this3.state.hasreload == false) {// this.handleReload();\n        }\n      }, 1000);\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, this.generateRenderMenuRole(), React.createElement(Col, {\n        className: \"sectionContent\",\n        lg: \"10\",\n        md: \"10\",\n        sm: \"12\",\n        xs: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, routes.filter(this.handleFilterUserRole).map(function (route, index) {\n        return React.createElement(Route, {\n          key: index,\n          path: route.path,\n          exact: route.exact,\n          component: route.main,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    global: state.global\n  };\n}\n\nexport default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["/Users/sai04/Documents/Source/cmsaeroaja/src/pages/home/Component.js"],"names":["React","BrowserRouter","Router","Route","Link","Row","Col","connect","changeActiveTabs","Dashboard","DataFlight","DataHotel","DataUser","ChangePassword","Report","Setting","Notifications","PushNotifications","Register","UserTraveler","routes","path","exact","main","userRole","Home","props","handleLogout","dispatch","logOutAction","loginActions","handleChangePages","pages","history","push","setState","currentPage","handleFilterUserRole","obj","global","checkUserAccessMenu","j","length","dataGroupRoleApi","dataGenerateMenu","state","hasreload","generateGroupRoleApi","title","value","active","_dataGroupRole","dataGroupRole","map","id","location","pathname","routerActive","substring","filter","bind","i","window","reload","isLogin","login","setTimeout","generateRenderMenuRole","route","index","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { Row, Col } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport { changeActiveTabs } from \"../../actions/index\";\n// SCREEN\nimport Dashboard from \"../dashboard/index\";\nimport DataFlight from \"../flight/index\";\nimport DataHotel from \"../hotel/index\";\nimport DataUser from \"../user/index\";\nimport ChangePassword from \"../change-password/index\";\nimport Report from \"../report/index\";\nimport Setting from \"../setting/index\";\nimport Notifications from \"../notification/index\";\nimport PushNotifications from \"../notification/push-notifications/index\";\nimport Register from \"../register/index\"\nimport UserTraveler from \"../user/traveler/index\"\n\nconst routes = [\n  {\n    path: \"/dashboard\",\n    exact: true,\n    main: () => <Dashboard />,\n    userRole:[1,2,3]\n  },\n  {\n    path: \"/data-flight\",\n    exact: false,\n    main: () => <DataFlight />,\n    userRole:[1,2,3]\n  },\n  {\n    path: \"/data-hotel\",\n    exact: false,\n    main: () => <DataHotel />,\n    userRole:[1,2,3]\n  },\n  {\n    path: \"/data-user\",\n    exact: false,\n    main: () => <DataUser />,\n    userRole:[1]\n  },\n  {\n    path: \"/user-traveler\",\n    exact: false,\n    main: () => <UserTraveler />,\n    userRole:[1]\n  },\n  {\n    path: \"/setting\",\n    exact: false,\n    main: () => <Setting />,\n    userRole:[1]\n  },\n  {\n    path: \"/report\",\n    exact: false,\n    main: () => <Report />,\n    userRole:[1]\n  },\n  {\n    path: \"/change-password\",\n    exact: false,\n    main: () => <ChangePassword />,\n    userRole:[1,2,3]\n  },\n  {\n    path: \"/notifications\",\n    exact: false,\n    main: () => <Notifications />,\n    userRole:[1,2,3]\n  },\n  {\n    path: \"/push-notifications\",\n    exact: false,\n    main: () => <PushNotifications />,\n    userRole:[1]\n  },\n  {\n    path: \"/register\",\n    exact: false,\n    main: () => <Register />,\n    userRole:[1,2,3]\n  }\n];\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasreload:false,\n      currentPage: \"\"\n    };\n    this.dataGroupRoleApi = this.generateGroupRoleApi();\n    this.dataGenerateMenu = [\n      {\n        title:'Diagram Reporting',\n        value:'dashboard',\n        active:true,\n        userRole:this.dataGroupRoleApi\n      },\n      {\n        title:'Data Flight',\n        value:'data-flight',\n        active:false,\n        userRole:this.dataGroupRoleApi\n      },\n      {\n        title:'Data Users CMS',\n        value:'data-user',\n        active:false,\n        userRole:[1]\n      },\n      // {\n      //   title:'Data Users Traveler',\n      //   value:'user-traveler',\n      //   active:false,\n      //   userRole:[1]\n      // },\n      {\n        title:'Setting',\n        value:'setting',\n        active:false,\n        userRole:[1]\n      },\n      {\n        title:'Report',\n        value:'report',\n        active:false,\n        userRole:[1]\n      },\n      // {\n      //   title:'Push Notification',\n      //   value:'notifications',\n      //   active:false,\n      //   userRole:this.dataGroupRoleApi\n      // },\n      {\n        title:'Change Password',\n        value:'change-password',\n        active:false,\n        userRole:this.dataGroupRoleApi\n      },\n    ];\n  }\n \n  generateGroupRoleApi(){\n    let _dataGroupRole = [];\n    let { dataGroupRole } = this.props.global;\n    if (dataGroupRole!=null){\n      dataGroupRole.map((obj)=>{\n        _dataGroupRole.push(obj.id);\n      })\n    }\n    return _dataGroupRole;\n  }\n  handleLogout = () => {\n    const { dispatch } = this.props;\n    const { logOutAction } = this.props.loginActions;\n    logOutAction(dispatch);\n  };\n\n  handleChangePages = pages => {\n    if (pages === \"home\") {\n      this.props.dispatch(changeActiveTabs(5));\n    }\n    this.props.history.push(pages);\n    this.setState({ currentPage: pages });\n  };\n\n  componentWillMount(){\n    if (this.props.history.location.pathname==='/'){\n      this.props.history.push('./dashboard');\n    }\n  }\n\n  handleFilterUserRole = (obj) => {\n    const { userRole } = this.props.global;\n    let checkUserAccessMenu = false;\n    for (let j=0;j<obj.userRole.length;j++){\n      if (userRole===obj.userRole[j]){\n        checkUserAccessMenu = true;\n        break;\n      }\n    }\n    if (checkUserAccessMenu){\n      return obj; \n    }\n  }\n  dataGroupRoleApi = []\n  dataGenerateMenu = []\n  \n  generateRenderMenuRole(){ \n    let routerActive = this.props.location.pathname.substring(1);\n  \n    return (\n      <Col className=\"sectionSideBar\" lg=\"2\" md=\"2\" sm=\"12\" xs=\"12\">\n        <div className=\"sidebarMenuSection\">\n          <Row className=\"HeadingTitle\">Menu Utama</Row>\n          {this.dataGenerateMenu.filter(this.handleFilterUserRole.bind(this)).map((obj,i)=>{\n            return (\n              <Row key={i} className=\"pt10\">\n                <Link\n                  onClick={() => this.handleChangePages(obj.value)}\n                  className={\n                    // this.state.currentPage === obj.value \n                    routerActive === obj.value\n                      ? \"menuActive\"\n                      : \"menuNormal\"\n                  }\n                  to={`/${obj.value}`}\n                >\n                  {obj.title}\n                </Link>\n              </Row>\n            );\n          })}\n          {true ? \n            <Row className=\"pt10\">\n              <div onClick={this.handleLogout} className=\"menuNormal\">\n                Log Out\n              </div>\n            </Row>\n            : []\n          }\n        </div>\n      </Col>\n    );\n  }\n\n  handleReload(){\n    window.location.reload();\n    this.setState({hasreload:true});\n  }\n\n  render() {\n    // console.log(\"IS LOGIN\");\n    // console.log(this.props.login.isLogin);\n    const { isLogin } = this.props.login;\n    if (isLogin==false) return [];\n    setTimeout(()=>{\n      if (this.state.hasreload==false){\n        // this.handleReload();\n      }\n    },1000);\n    return (\n      <Router>\n        <Row>\n          {this.generateRenderMenuRole()}\n          <Col className=\"sectionContent\" lg=\"10\" md=\"10\" sm=\"12\" xs=\"12\">\n            {routes.filter(this.handleFilterUserRole).map((route, index) => {\n              return (\n                <Route\n                  key={index}\n                  path={route.path}\n                  exact={route.exact}\n                  component={route.main}\n                />\n              )\n            })}\n          </Col>\n        </Row>\n      </Router>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    global: state.global\n  };\n}\n\nexport default connect(mapStateToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}