{"ast":null,"code":"import _defineProperty from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/sai04/Documents/Source/cmsaeroaja/src/pages/user/Component.js\";\nimport React from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, Alert, Col } from \"reactstrap\";\nimport SubHeader from \"../../component/sub-header\";\nimport moment from \"moment\";\nimport PaginationRemote from './../../component/PaginationRemote';\nimport { PRIMARY_COLOR } from \"../../config/constant\";\nimport { PulseLoader } from \"react-spinners\";\nimport Dropdown from '../../component/dropdown';\nimport Loading from '../../component/Loading/index';\n\nvar DataUser =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(DataUser, _React$PureComponent);\n\n  function DataUser(props) {\n    var _this;\n\n    _classCallCheck(this, DataUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DataUser).call(this, props));\n\n    _this.handleSubmitEdit = function () {\n      var userEditAction = _this.props.actions.userEditAction;\n      var dispatch = _this.props.dispatch;\n      var _this$state$selectDet = _this.state.selectDetail,\n          id = _this$state$selectDet.id,\n          name = _this$state$selectDet.name,\n          _this$state$selectDet2 = _this$state$selectDet.group_role_id,\n          group_role_id = _this$state$selectDet2 === void 0 ? 1 : _this$state$selectDet2,\n          email = _this$state$selectDet.email,\n          phone = _this$state$selectDet.phone;\n\n      if (name === \"\" || group_role_id === \"\" || email === \"\" || phone === \"\") {\n        _this.setState({\n          errorMessage: \"Fill in all data completely and correctly\"\n        });\n      } else {\n        var dataPost = {\n          name: name,\n          group_role_id: parseInt(group_role_id),\n          email: email,\n          phone: phone\n        };\n        userEditAction(dispatch, id, dataPost, _this.handleCallback.bind(_assertThisInitialized(_assertThisInitialized(_this))));\n\n        _this.setState({\n          modalOrder: false\n        });\n      } // window.location.reload();\n\n    };\n\n    _this.index = 0;\n    _this.columns = [{\n      dataField: \"index\",\n      text: \"NO\",\n      headerStyle: {\n        width: \"5%\"\n      }\n    }, {\n      dataField: \"name\",\n      text: \"NAME\",\n      headerStyle: {\n        width: \"15%\"\n      }\n    }, {\n      dataField: \"phone\",\n      text: \"PHONE NUMBER\",\n      headerStyle: {\n        width: \"20%\"\n      }\n    }, {\n      dataField: \"email\",\n      text: \"EMAIL\",\n      headerStyle: {\n        width: \"15%\"\n      }\n    }, {\n      dataField: \"date\",\n      text: \"DATE CREATE\",\n      headerStyle: {\n        width: \"15%\"\n      },\n      formatter: function formatter(id, row) {\n        return moment(row.date).format(\"DD-MM-YYYY\");\n      }\n    }, {\n      dataField: \"status\",\n      text: \"STATUS\",\n      headerStyle: {\n        width: \"10%\"\n      },\n      formatter: _this.renderStatusUsers.bind(_assertThisInitialized(_assertThisInitialized(_this)))\n    }, {\n      dataField: \"action\",\n      text: \"ACTION\",\n      headerStyle: {\n        width: \"20%\"\n      },\n      formatter: _this.actionCol.bind(_assertThisInitialized(_assertThisInitialized(_this)))\n    }];\n    _this.reloadDataUser = false;\n\n    _this.handleTableChange = function (type, _ref) {\n      var page = _ref.page,\n          sizePerPage = _ref.sizePerPage;\n      var params = _this.state.params;\n      params.page = page;\n      params.sizePerPage = sizePerPage;\n\n      _this.loadDataListUser(params.q, params.page, params.limit);\n\n      _this.setState({\n        params: params\n      });\n    };\n\n    _this.state = {\n      modalOrder: false,\n      search: \"\",\n      params: {\n        q: '',\n        page: 1,\n        limit: 20,\n        sizePerPage: 20,\n        totalSize: 200\n      },\n      errorMessage: \"\",\n      selectDetail: null,\n      name: '',\n      email: '',\n      group_role_id: '',\n      role_data: [{\n        'id': '1',\n        'name': 'Master',\n        \"alias\": \"MA\",\n        \"description\": \"Access All Menu\"\n      }, {\n        'id': '2',\n        'name': 'Agent',\n        \"alias\": \"AG\",\n        \"description\": \"Access Multiple Menu\"\n      }],\n      phone: '',\n      mobile: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRole = _this.handleRole.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleprimary = _this.toggleprimary.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleEditData = _this.toggleEditData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(DataUser, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.handleResetUserAction();\n      var _this$state$params = this.state.params,\n          q = _this$state$params.q,\n          page = _this$state$params.page,\n          limit = _this$state$params.limit;\n      this.loadDataListUser(q, page, limit);\n\n      if (window.screen.availWidth < 756) {\n        this.setState({\n          mobile: true\n        });\n      } else {\n        this.setState({\n          mobile: false\n        });\n      }\n    }\n  }, {\n    key: \"handleResetUserAction\",\n    value: function handleResetUserAction() {\n      var dispatch = this.props.dispatch;\n      var resetUserAction = this.props.actions.resetUserAction;\n      resetUserAction(dispatch);\n    }\n  }, {\n    key: \"renderStatusUsers\",\n    value: function renderStatusUsers(id, row) {\n      return React.createElement(\"div\", {\n        className: row.status.toLowerCase(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, row.status);\n    }\n  }, {\n    key: \"handleInputSearch\",\n    value: function handleInputSearch(index) {\n      var data = this.state.data;\n      var setSearching = this.props.actionsCommon.setSearching;\n      var dataPost = {\n        products: data[index].booking\n      };\n      setSearching(dataPost);\n    } //EDIT\n\n  }, {\n    key: \"toggleprimary\",\n    value: function toggleprimary() {\n      this.setState({\n        modal: !this.state.modal\n      });\n    }\n  }, {\n    key: \"toggleEditData\",\n    value: function toggleEditData(row, callback) {\n      this.setState({\n        modalOrder: !this.state.modalOrder,\n        selectDetail: row\n      }, this.handleCallback.bind(this));\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(evt) {\n      var _this$setState;\n\n      var selectDetail = this.state.selectDetail;\n      selectDetail[evt.target.id] = evt.target.value;\n      this.setState((_this$setState = {}, _defineProperty(_this$setState, evt.target.id, evt.target.value), _defineProperty(_this$setState, \"selectDetail\", selectDetail), _this$setState));\n    }\n  }, {\n    key: \"handleRole\",\n    value: function handleRole(evt) {\n      var _this$setState2;\n\n      var selectDetail = this.state.selectDetail;\n      selectDetail[\"group_role_id\"] = evt.target.value;\n      this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, evt.target.group_role_id, evt.target.value), _defineProperty(_this$setState2, \"selectDetail\", selectDetail), _this$setState2));\n    }\n  }, {\n    key: \"handleCallback\",\n    value: function handleCallback() {\n      var _this$props = this.props,\n          fetchingEdit = _this$props.fetchingEdit,\n          history = _this$props.history;\n\n      if (fetchingEdit === true) {\n        window.location.reload();\n        alert(\"Data have been added\");\n        history.push('/home');\n      } else {\n        this.setState({\n          errorMessage: \"Error\"\n        });\n      }\n    }\n  }, {\n    key: \"loadDataListUser\",\n    //EDIT\n    //DELETE\n    value: function loadDataListUser(query, page, limit) {\n      var dispatch = this.props.dispatch;\n      var params = {\n        q: query,\n        page: page,\n        limit: limit\n      };\n      var userAction = this.props.actions.userAction;\n      var token = !this.props.login.token ? '' : this.props.login.token;\n      userAction(dispatch, params, token);\n    }\n  }, {\n    key: \"handleCallbackDelete\",\n    value: function handleCallbackDelete(callback) {\n      if (callback.success) {\n        var _this$props2 = this.props,\n            fetchingDelete = _this$props2.fetchingDelete,\n            history = _this$props2.history;\n\n        if (!fetchingDelete) {\n          window.location.reload();\n          alert(\"Data have been delete\");\n          history.push('/home');\n        } else {\n          this.setState({\n            errorMessage: \"Error\"\n          });\n        }\n      }\n    }\n  }, {\n    key: \"deleteData\",\n    value: function deleteData(row) {\n      var dispatch = this.props.dispatch;\n      var params = {\n        id: row.id\n      };\n      var userDelete = this.props.actions.userDelete;\n      var token = !this.props.login.token ? '' : this.props.login.token;\n      userDelete(dispatch, params, token, this.handleCallbackDelete.bind(this));\n    } //DELETE\n\n  }, {\n    key: \"actionCol\",\n    value: function actionCol(scope, row, data) {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.toggleEditData(row);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"EDIT\"), ' ', React.createElement(Button, {\n        color: \"danger\",\n        onClick: function onClick() {\n          return _this2.deleteData(row);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"DELETE\"));\n    }\n  }, {\n    key: \"handleChangeSearch\",\n    value: function handleChangeSearch(value) {\n      var params = this.state.params;\n      params.q = value;\n      this.setState({\n        params: params\n      });\n      this.loadDataListUser(params.q, params.page, params.limit);\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      return React.createElement(\"div\", {\n        className: \"box-loading\",\n        style: {\n          marginTop: 50,\n          marginBottom: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Loading, {\n        type: \"PulseLoader\",\n        loading: true,\n        color: '#008c9a',\n        size: 25,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$user = this.props.user,\n          fetchingListUser = _this$props$user.fetchingListUser,\n          fetchingEdit = _this$props$user.fetchingEdit; // if (!fetchingListUser) return this.renderLoading();\n\n      var _this$state = this.state,\n          params = _this$state.params,\n          selectDetail = _this$state.selectDetail,\n          mobile = _this$state.mobile;\n      var _this$props$user$meta = this.props.user.meta,\n          meta = _this$props$user$meta === void 0 ? {\n        total: 1\n      } : _this$props$user$meta;\n      var dataViewListUser = this.props.user.dataListUser == null ? [] : this.props.user.dataListUser;\n      var index = 0;\n      dataViewListUser.map(function (obj, i) {\n        index++;\n        obj.index = params.page === 1 ? index : index + Number(params.page * params.sizePerPage) - 20;\n      });\n      return React.createElement(\"div\", {\n        className: \"section-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"search-flight-heading bot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Data User\"), React.createElement(Row, {\n        className: \"step-form-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(SubHeader, {\n        title: \"Data User\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-search\",\n        style: mobile ? {\n          overflow: \"scroll\",\n          width: window.innerWidth - 20\n        } : {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(PaginationRemote, {\n        tableUser: true,\n        searchPlaceholder: \"Search in Here\",\n        loading: fetchingListUser,\n        handleChangeSearch: this.handleChangeSearch.bind(this),\n        searchValue: params.q,\n        data: dataViewListUser,\n        columns: this.columns,\n        page: params.page,\n        sizePerPage: params.sizePerPage,\n        totalSize: !meta ? 1 : meta.total,\n        onTableChange: this.handleTableChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        isOpen: this.state.modalOrder,\n        toggleprimary: this.toggleEditData,\n        className: \"modal-primary \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        style: {\n          background: PRIMARY_COLOR,\n          color: \"#ffffff\"\n        },\n        toggle: this.toggleEditData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"Edit User\"), React.createElement(ModalBody, {\n        style: {\n          marginTop: 0,\n          marginBottom: 0,\n          paddingTop: 0,\n          paddingBottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"show-tab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Form, {\n        style: {\n          paddingBottom: 10,\n          marginLeft: 20,\n          marginTop: 15,\n          marginRight: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Label, {\n        className: \"SignupLabel\",\n        for: \"examplePassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \" Email Address \"), React.createElement(Input, {\n        style: {\n          width: '25vw'\n        },\n        type: \"text\",\n        id: \"email\",\n        onChange: this.handleChange,\n        value: selectDetail === null ? '' : !selectDetail.email ? '' : selectDetail.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Label, {\n        className: \"SignupLabel\",\n        for: \"examplePassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \" Name \"), React.createElement(Input, {\n        style: {\n          width: '25'\n        },\n        type: \"text\",\n        id: \"name\",\n        onChange: this.handleChange,\n        value: selectDetail === null ? '' : !selectDetail.name ? '' : selectDetail.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(Label, {\n        className: \"SignupLabel\",\n        for: \"examplePassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \" User Role \"), React.createElement(Dropdown, {\n        label: \"Role\",\n        id: \"group_role_id \",\n        data: this.state.role_data,\n        onChange: this.handleRole,\n        value: selectDetail === null ? '' : !selectDetail.group_role_id ? '' : selectDetail.group_role_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(Label, {\n        className: \"SignupLabel\",\n        for: \"examplePassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, \" Phone Number \"), React.createElement(Input, {\n        style: {\n          width: '25'\n        },\n        type: \"number\",\n        id: \"phone\",\n        onChange: this.handleChange,\n        value: selectDetail === null ? '' : !selectDetail.phone ? '' : selectDetail.phone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        style: {\n          marginTop: '2vw'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          width: '25'\n        },\n        className: \"button-register\",\n        onClick: this.handleSubmitEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, fetchingEdit ? React.createElement(PulseLoader, {\n        sizeUnit: \"px\",\n        size: 10,\n        color: 'red',\n        loading: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }) : React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"DONE\")))))))))));\n    }\n  }]);\n\n  return DataUser;\n}(React.PureComponent);\n\nexport { DataUser as default };","map":{"version":3,"sources":["/Users/sai04/Documents/Source/cmsaeroaja/src/pages/user/Component.js"],"names":["React","Row","Button","Modal","ModalHeader","ModalBody","Form","FormGroup","Label","Input","Alert","Col","SubHeader","moment","PaginationRemote","PRIMARY_COLOR","PulseLoader","Dropdown","Loading","DataUser","props","handleSubmitEdit","userEditAction","actions","dispatch","state","selectDetail","id","name","group_role_id","email","phone","setState","errorMessage","dataPost","parseInt","handleCallback","bind","modalOrder","index","columns","dataField","text","headerStyle","width","formatter","row","date","format","renderStatusUsers","actionCol","reloadDataUser","handleTableChange","type","page","sizePerPage","params","loadDataListUser","q","limit","search","totalSize","role_data","mobile","handleChange","handleRole","toggleprimary","toggleEditData","handleResetUserAction","window","screen","availWidth","resetUserAction","status","toLowerCase","data","setSearching","actionsCommon","products","booking","modal","callback","evt","target","value","fetchingEdit","history","location","reload","alert","push","query","userAction","token","login","success","fetchingDelete","userDelete","handleCallbackDelete","scope","deleteData","marginTop","marginBottom","user","fetchingListUser","meta","total","dataViewListUser","dataListUser","map","obj","i","Number","overflow","innerWidth","handleChangeSearch","background","color","paddingTop","paddingBottom","marginLeft","marginRight","PureComponent"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, Alert, Col  } from \"reactstrap\";\nimport SubHeader from \"../../component/sub-header\";\nimport moment from \"moment\";\nimport PaginationRemote from './../../component/PaginationRemote';\nimport { PRIMARY_COLOR } from \"../../config/constant\";\nimport { PulseLoader } from \"react-spinners\";\nimport Dropdown from '../../component/dropdown'\nimport Loading from '../../component/Loading/index'\n\nexport default class DataUser extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalOrder: false,\n      search: \"\",\n      params:{\n        q:'',\n        page:1,\n        limit:20,\n        sizePerPage: 20,\n        totalSize:200\n      },\n      errorMessage : \"\",\n      selectDetail:null,\n      name: '',\n      email: '',\n      group_role_id: '',\n      role_data: [{'id': '1', 'name': 'Master', \"alias\": \"MA\",   \"description\": \"Access All Menu\"}, {'id': '2', 'name': 'Agent', \"alias\": \"AG\",\"description\": \"Access Multiple Menu\"}],\n      phone: '',\n      mobile: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleRole = this.handleRole.bind(this)\n    this.toggleprimary = this.toggleprimary.bind(this);\n    this.toggleEditData = this.toggleEditData.bind(this);\n  }\n  componentWillMount(){\n    this.handleResetUserAction();\n    const { q, page, limit }= this.state.params;\n    this.loadDataListUser(q, page, limit);\n    if (window.screen.availWidth < 756){\n      this.setState({mobile:true})\n    } else {\n      this.setState({mobile:false})\n    }\n  }\n  handleResetUserAction(){\n    const { dispatch }     = this.props;\n    const { resetUserAction } = this.props.actions;\n    resetUserAction(dispatch);\n  }\n  renderStatusUsers(id, row){\n    return ( \n      <div className={row.status.toLowerCase()}>{row.status}</div> \n    );\n  }\n  handleInputSearch(index) {\n    const { data } = this.state;\n    const { setSearching } = this.props.actionsCommon;\n    let dataPost = {\n      products: data[index].booking\n    };\n    setSearching(dataPost);\n  }\n  //EDIT\n  toggleprimary() { this.setState({ modal: !this.state.modal });}\n  toggleEditData(row, callback){\n    this.setState({ modalOrder: !this.state.modalOrder, selectDetail: row}, this.handleCallback.bind(this));\n  }\n  handleChange (evt) {\n    let { selectDetail } = this.state;\n    selectDetail[evt.target.id]=evt.target.value;\n    this.setState({ [evt.target.id]: evt.target.value , selectDetail})\n  }\n  handleRole(evt) { \n    let { selectDetail } = this.state\n    selectDetail[\"group_role_id\"]=evt.target.value;\n    this.setState({ [evt.target.group_role_id]: evt.target.value , selectDetail}) \n  }\n  handleCallback() {\n    const { fetchingEdit, history } = this.props\n    if (fetchingEdit === true){\n      window.location.reload()\n      alert(\"Data have been added\")\n      history.push('/home');\n    } else {\n      this.setState({ errorMessage: \"Error\"})\n    }\n  }\n\n  handleSubmitEdit = () => {\n    const { userEditAction } = this.props.actions;\n    const { dispatch } = this.props;\n    const { id, name, group_role_id=1, email, phone} = this.state.selectDetail;\n    if(name === \"\" || group_role_id === \"\" || email === \"\" || phone === \"\") {\n      this.setState({ errorMessage: \"Fill in all data completely and correctly\" })\n    } else {\n      let dataPost = {\n        name: name,\n        group_role_id: parseInt(group_role_id),\n        email: email,\n        phone: phone,\n      }\n      userEditAction(dispatch,id, dataPost, this.handleCallback.bind(this));\n      this.setState({modalOrder:false});\n    }\n    // window.location.reload();\n  }\n  //EDIT\n  //DELETE\n  loadDataListUser(query, page, limit){\n    const { dispatch }   = this.props;\n    let params = {\n      q: query,\n      page: page,\n      limit: limit\n    }\n    const { userAction } = this.props.actions;\n    let token = !this.props.login.token ? '' : this.props.login.token;\n    userAction(dispatch, params, token);\n  }\n  handleCallbackDelete(callback){\n    if (callback.success){\n      const { fetchingDelete, history } = this.props\n      if(!fetchingDelete) {\n        window.location.reload()\n        alert(\"Data have been delete\")\n        history.push('/home');\n      }  else {\n        this.setState({ errorMessage: \"Error\"})\n      }\n    }\n  }\n  deleteData(row){\n    const { dispatch }   = this.props;\n    let params = {\n     id: row.id\n    }\n    const { userDelete } = this.props.actions;\n    let token = !this.props.login.token ? '' : this.props.login.token;\n    userDelete(dispatch, params, token, this.handleCallbackDelete.bind(this));\n  }\n  //DELETE\n  actionCol(scope, row, data) {\n    return (\n      <div>\n        {/* <Button className=\"button-primary\" >VIEW</Button>{' '} */}\n        <Button color=\"primary\" onClick={()=>this.toggleEditData(row)}>EDIT</Button>{' '}\n        <Button color=\"danger\" onClick={()=> this.deleteData(row)}>DELETE</Button>\n      </div>\n    );\n  }\n  index=0\n  columns = [\n    { dataField: \"index\", text: \"NO\", headerStyle: { width: \"5%\" } },\n    { dataField: \"name\", text: \"NAME\", headerStyle: { width: \"15%\" } },\n    { dataField: \"phone\",text: \"PHONE NUMBER\", headerStyle: { width: \"20%\" } },\n    { dataField: \"email\", text: \"EMAIL\", headerStyle: { width: \"15%\" } },\n    { dataField: \"date\", text: \"DATE CREATE\", headerStyle: { width: \"15%\" }, formatter:(id, row)=>moment(row.date).format(\"DD-MM-YYYY\")},\n    { dataField: \"status\", text: \"STATUS\", headerStyle: { width: \"10%\" }, formatter:this.renderStatusUsers.bind(this) },\n    { dataField: \"action\", text: \"ACTION\", headerStyle: { width: \"20%\" }, formatter: this.actionCol.bind(this)  },\n  ];\n\n  reloadDataUser = false;\n  \n  handleTableChange = (type, { page, sizePerPage }) => {\n    let { params } = this.state;\n    params.page=page;\n    params.sizePerPage=sizePerPage;\n    this.loadDataListUser(params.q, params.page, params.limit);\n    this.setState({params:params});\n  }\n  handleChangeSearch(value){\n    let { params } = this.state;\n    params.q=value;\n    this.setState({params});\n    this.loadDataListUser(params.q, params.page, params.limit);\n  }\n\n  renderLoading(){\n    return(\n      <div className=\"box-loading\" style={{marginTop: 50, marginBottom:50}}>\n        <Loading\n          type=\"PulseLoader\"\n          loading={true}\n          color={'#008c9a'}\n          size={25}\n        />\n      </div>\n    )\n  }\n\n  render() {\n    const { fetchingListUser, fetchingEdit } = this.props.user;\n\n    // if (!fetchingListUser) return this.renderLoading();\n    const { params, selectDetail, mobile }  = this.state;\n    const { meta= {total: 1}  } = this.props.user;\n    let dataViewListUser = this.props.user.dataListUser == null ? [] : this.props.user.dataListUser;\n    let index=0;\n    dataViewListUser.map((obj,i)=>{\n      index++;\n      obj.index= params.page===1 ? index : index+Number(params.page*params.sizePerPage)-20;\n    });\n    return (\n      <div className=\"section-search\">\n        <Row className=\"search-flight-heading bot\">\n          Data User\n        </Row>\n        <Row className=\"step-form-table\">\n          <div style={{ width: \"100%\" }}>\n            <SubHeader title={\"Data User\"} />\n\n              <div className=\"form-search\" style={mobile ? {overflow:\"scroll\",width:window.innerWidth-20} : {}}>\n                <PaginationRemote tableUser={true}\n                  searchPlaceholder=\"Search in Here\"\n                  loading={fetchingListUser}\n                  handleChangeSearch={this.handleChangeSearch.bind(this)}\n                  searchValue={params.q}\n                  data={ dataViewListUser }\n                  columns={this.columns}\n                  page={ params.page }\n                  sizePerPage={ params.sizePerPage }\n                  totalSize={ !meta ? 1 : meta.total }\n                  onTableChange={ this.handleTableChange }\n                />\n                <Modal isOpen={this.state.modalOrder} toggleprimary={this.toggleEditData} className=\"modal-primary \">\n                  <ModalHeader style={{ background: PRIMARY_COLOR, color: \"#ffffff\" }} toggle={this.toggleEditData} >\n                    Edit User\n                  </ModalHeader>\n                  <ModalBody style={{ marginTop: 0,marginBottom: 0, paddingTop: 0, paddingBottom: 0 }}>\n                    <Row className=\"show-tab\">\n                      <Form style={{ paddingBottom: 10, marginLeft: 20, marginTop:15, marginRight:20 }}>\n                        <FormGroup>\n                          <Label className=\"SignupLabel\" for=\"examplePassword\"> Email Address </Label>\n                          <Input style={{ width: '25vw'}} type=\"text\" id=\"email\" onChange={this.handleChange} value={selectDetail===null ? '' : !selectDetail.email ? '' : selectDetail.email}/>\n                        </FormGroup>\n                        <FormGroup>\n                          <Label className=\"SignupLabel\" for=\"examplePassword\"> Name </Label>\n                          <Input style={{ width: '25'}} type=\"text\" id=\"name\" onChange={this.handleChange} value={selectDetail===null ? '' : !selectDetail.name ? '' : selectDetail.name}/>\n                        </FormGroup>\n                        <FormGroup>\n                          <Label className=\"SignupLabel\" for=\"examplePassword\"> User Role </Label>\n                          <Dropdown label=\"Role\" id=\"group_role_id \" data={this.state.role_data} onChange={this.handleRole} value={selectDetail===null ? '' : !selectDetail.group_role_id ? '' : selectDetail.group_role_id}/>\n                        </FormGroup>\n                        <FormGroup>\n                          <Label className=\"SignupLabel\" for=\"examplePassword\"> Phone Number </Label>\n                          <Input style={{ width: '25'}} type=\"number\" id=\"phone\" onChange={this.handleChange} value={selectDetail===null ? '' : !selectDetail.phone ? '' : selectDetail.phone}/>\n                        </FormGroup>\n                        <FormGroup style={{marginTop: '2vw'}}>\n                          <Button style={{ width: '25'}} className=\"button-register\" onClick={this.handleSubmitEdit}>\n                            { (fetchingEdit) ?\n                              <PulseLoader sizeUnit={\"px\"} size={10} color={'red'} loading={true}/> :<b>DONE</b>\n                            }\n                          </Button>\n                        </FormGroup>\n                      </Form>\n                    </Row>\n                  </ModalBody>\n                </Modal>\n              </div>\n          </div>\n        </Row>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}