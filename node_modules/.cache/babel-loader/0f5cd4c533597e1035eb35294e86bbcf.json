{"ast":null,"code":"import _classCallCheck from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/sai04/Documents/Source/cmsaeroaja/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/sai04/Documents/Source/cmsaeroaja/src/pages/flight/Component.js\";\nimport React from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody } from \"reactstrap\";\nimport Tabs from \"../../component/tabs\";\nimport InfoPassenger from \"./../../component/FlightListDetail/info-passenger\";\nimport ContactDetail from \"./../../component/FlightListDetail/contact-details\";\nimport SubHeader from \"../../component/sub-header\";\nimport { PRIMARY_COLOR } from \"../../config/constant\";\nimport moment from \"moment\";\nimport { formatRupiah } from './../../utilities/helpers';\nimport PaginationRemote from './../../component/PaginationRemote';\nimport Loading from '../../component/Loading/index';\n\nvar DataFlight =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(DataFlight, _React$PureComponent);\n\n  function DataFlight(props) {\n    var _this;\n\n    _classCallCheck(this, DataFlight);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DataFlight).call(this, props));\n    _this.indexList = 0;\n    _this.columns = [{\n      dataField: \"index\",\n      text: \"NO\",\n      headerStyle: {\n        width: \"3%\"\n      }\n    }, {\n      dataField: \"booking_code\",\n      text: \"BOOKING ID\",\n      headerStyle: {\n        width: \"10%\"\n      }\n    }, {\n      dataField: \"id\",\n      text: \"DATE\",\n      headerStyle: {\n        width: \"14%\"\n      },\n      formatter: function formatter(id, row) {\n        return moment(row.date).format(\"YYYY-MM-DD\");\n      }\n    }, {\n      dataField: \"route\",\n      text: \"RUTE\",\n      headerStyle: {\n        width: \"18%\"\n      }\n    }, {\n      dataField: \"total_amount\",\n      text: \"AMOUNT\",\n      headerStyle: {\n        width: \"15%\"\n      },\n      formatter: function formatter(id, row) {\n        return formatRupiah(!row ? 0 : !row.total_amount ? 0 : row.total_amount);\n      }\n    }, {\n      dataField: \"airline\",\n      text: \"AIRLINES\",\n      headerStyle: {\n        width: \"10%\"\n      }\n    }, // { dataField: \"source\", text: \"TRANSACTION\", headerStyle: { width: \"5%\" }},\n    {\n      dataField: \"status\",\n      text: \"STATUS\",\n      headerStyle: {\n        width: \"5%\"\n      },\n      formatter: _this.renderStatusFlight.bind(_assertThisInitialized(_assertThisInitialized(_this)))\n    }, {\n      dataField: \"action\",\n      text: \"ACTION\",\n      headerStyle: {\n        width: \"10%\"\n      },\n      formatter: function formatter(id, row) {\n        return _this.actionCol(id, row);\n      }\n    }];\n    _this.reloadDataFlight = false;\n\n    _this.handleTableChange = function (type, _ref) {\n      var page = _ref.page,\n          sizePerPage = _ref.sizePerPage;\n      var params = _this.state.params;\n      params.page = page;\n      params.sizePerPage = sizePerPage;\n\n      _this.loadDataListFlight(params.q, params.page, params.limit);\n\n      _this.setState({\n        params: params\n      });\n    };\n\n    _this.state = {\n      params: {\n        q: '',\n        page: 1,\n        limit: 20,\n        sizePerPage: 20,\n        totalSize: 200\n      },\n      selectDetail: null,\n      modal: false,\n      modalOrder: false,\n      search: \"\",\n      deleteId: null,\n      deleteNotif: false,\n      data: [],\n      ariline_id: '',\n      airlines: [{\n        'id': 'GA',\n        'name': 'Garuda',\n        \"alias\": \"GA\"\n      }, {\n        'id': 'SJ',\n        'name': 'Sriwijaya',\n        \"alias\": \"SJ\"\n      }, {\n        'id': 'CL',\n        'name': 'Citilink',\n        \"alias\": \"CL\"\n      }]\n    };\n    _this.togglePrimary = _this.togglePrimary.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleOrder = _this.toggleOrder.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(DataFlight, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.handleResetFlightAction();\n      var _this$state$params = this.state.params,\n          q = _this$state$params.q,\n          page = _this$state$params.page,\n          limit = _this$state$params.limit;\n      this.loadDataListFlight(q, page, limit);\n      this.downloadData();\n    }\n  }, {\n    key: \"handleResetFlightAction\",\n    value: function handleResetFlightAction() {\n      var dispatch = this.props.dispatch;\n      var resetFlightAction = this.props.actions.resetFlightAction;\n      resetFlightAction(dispatch);\n    }\n  }, {\n    key: \"loadDataListFlight\",\n    value: function loadDataListFlight(query, page, limit) {\n      var dispatch = this.props.dispatch;\n      var params = {\n        q: query,\n        page: page,\n        limit: limit\n      };\n      var flightAction = this.props.actions.flightAction;\n      var token = !this.props.login.token ? '' : this.props.login.token;\n      flightAction(dispatch, params, token);\n    }\n  }, {\n    key: \"downloadData\",\n    value: function downloadData() {\n      var dispatch = this.props.dispatch;\n      var params = {\n        q: '',\n        page: 1,\n        limit: !this.props.flight.meta ? 20 : this.props.flight.meta.total\n      };\n      var flightAction1 = this.props.actions.flightAction1;\n      var token = !this.props.login.token ? '' : this.props.login.token;\n      flightAction1(dispatch, params, token);\n    }\n  }, {\n    key: \"togglePrimary\",\n    value: function togglePrimary() {\n      this.setState({\n        modal: !this.state.modal\n      });\n    }\n  }, {\n    key: \"toggleOrder\",\n    value: function toggleOrder(row) {\n      this.setState({\n        modalOrder: !this.state.modalOrder,\n        selectDetail: row\n      });\n    }\n  }, {\n    key: \"handleInputSearch\",\n    value: function handleInputSearch(index) {\n      var data = this.state.data;\n      var setSearching = this.props.actionsCommon.setSearching;\n      var dataPost = {\n        products: data[index].booking\n      };\n      setSearching(dataPost);\n    }\n  }, {\n    key: \"actionCol\",\n    value: function actionCol(index, row) {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"button-primary\",\n        onClick: function onClick() {\n          return _this2.toggleOrder(row);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"VIEW\"));\n    }\n  }, {\n    key: \"renderStatusFlight\",\n    value: function renderStatusFlight(id, row) {\n      return React.createElement(\"div\", {\n        className: (!row ? '' : !row.status ? '' : row.status).toLowerCase(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, !row ? '' : !row.status ? '' : row.status);\n    }\n  }, {\n    key: \"handleChangeSearch\",\n    value: function handleChangeSearch(value) {\n      var params = this.state.params;\n      params.q = value;\n      this.setState({\n        params: params\n      });\n      this.loadDataListFlight(params.q, params.page, params.limit);\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      return React.createElement(\"div\", {\n        className: \"box-loading\",\n        style: {\n          marginTop: 50,\n          marginBottom: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Loading, {\n        type: \"PulseLoader\",\n        loading: true,\n        color: '#0290d2',\n        size: 25,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          params = _this$state.params,\n          selectDetail = _this$state.selectDetail;\n      var _this$props$flight$me = this.props.flight.meta,\n          meta = _this$props$flight$me === void 0 ? {\n        total: 1\n      } : _this$props$flight$me;\n      var fetchingListFlight = this.props.flight.fetchingListFlight;\n      var dataListFlight = this.props.flight.dataFlight == null ? [] : this.props.flight.dataFlight;\n      var dataViewListFlight = this.props.flight.dataListFlight == null ? [] : this.props.flight.dataListFlight;\n      var index = 0;\n      var no = 0;\n      dataViewListFlight.map(function (obj, i) {\n        index++;\n        obj.index = params.page === 1 ? index : index + Number(params.page * params.sizePerPage) - 20;\n      });\n      dataListFlight.map(function (obj, i) {\n        no++;\n        obj.index = no;\n      });\n      return React.createElement(\"div\", {\n        className: \"section-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"search-flight-heading\",\n        style: {\n          paddingBottom: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Data Flight\"), React.createElement(Row, {\n        className: \"step-form-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(SubHeader, {\n        title: \"Data Flight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(PaginationRemote, {\n        download: dataListFlight == null ? false : true,\n        searchPlaceholder: \"Search in Here\",\n        loading: fetchingListFlight,\n        handleChangeSearch: this.handleChangeSearch.bind(this),\n        searchValue: params.q,\n        dataexport: dataListFlight,\n        data: dataViewListFlight,\n        columns: this.columns,\n        page: params.page,\n        sizePerPage: params.sizePerPage,\n        totalSize: !meta ? 1 : meta.total,\n        onTableChange: this.handleTableChange // id='ariline_id'\n        // dataAirlines={this.state.airlines}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        isOpen: this.state.modalOrder,\n        togglePrimary: this.toggleOrder,\n        className: \"modal-primary \" + this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        style: {\n          background: PRIMARY_COLOR,\n          color: \"#ffffff\"\n        },\n        toggle: this.toggleOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Details Order\"), React.createElement(ModalBody, {\n        style: {\n          marginTop: 0,\n          marginBottom: 0,\n          paddingTop: 0,\n          paddingBottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"show-tab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(ContactDetail, {\n        selectDetail: selectDetail,\n        title: \"Contact Details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), React.createElement(InfoPassenger, {\n        selectDetail: selectDetail,\n        title: \"Pessanger Information\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })))))))));\n    }\n  }]);\n\n  return DataFlight;\n}(React.PureComponent);\n\nexport default DataFlight;","map":{"version":3,"sources":["/Users/sai04/Documents/Source/cmsaeroaja/src/pages/flight/Component.js"],"names":["React","Row","Button","Modal","ModalHeader","ModalBody","Tabs","InfoPassenger","ContactDetail","SubHeader","PRIMARY_COLOR","moment","formatRupiah","PaginationRemote","Loading","DataFlight","props","indexList","columns","dataField","text","headerStyle","width","formatter","id","row","date","format","total_amount","renderStatusFlight","bind","actionCol","reloadDataFlight","handleTableChange","type","page","sizePerPage","params","state","loadDataListFlight","q","limit","setState","totalSize","selectDetail","modal","modalOrder","search","deleteId","deleteNotif","data","ariline_id","airlines","togglePrimary","toggleOrder","handleResetFlightAction","downloadData","dispatch","resetFlightAction","actions","query","flightAction","token","login","flight","meta","total","flightAction1","index","setSearching","actionsCommon","dataPost","products","booking","status","toLowerCase","value","marginTop","marginBottom","fetchingListFlight","dataListFlight","dataFlight","dataViewListFlight","no","map","obj","i","Number","paddingBottom","handleChangeSearch","className","background","color","paddingTop","PureComponent"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody } from \"reactstrap\";\nimport Tabs from \"../../component/tabs\";\nimport InfoPassenger from \"./../../component/FlightListDetail/info-passenger\";\nimport ContactDetail from \"./../../component/FlightListDetail/contact-details\";\nimport SubHeader from \"../../component/sub-header\";\nimport { PRIMARY_COLOR } from \"../../config/constant\";\nimport moment from \"moment\";\nimport { formatRupiah } from './../../utilities/helpers';\nimport PaginationRemote from './../../component/PaginationRemote';\nimport Loading from '../../component/Loading/index'\n\nclass DataFlight extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      params:{\n        q:'',\n        page:1,\n        limit:20,\n        sizePerPage: 20,\n        totalSize:200\n      },\n      selectDetail:null,\n      modal: false,\n      modalOrder: false,\n      search: \"\",\n      deleteId: null,\n      deleteNotif: false,\n      data: [],\n      ariline_id: '',\n      airlines: [{'id': 'GA', 'name': 'Garuda', \"alias\": \"GA\"}, {'id': 'SJ', 'name': 'Sriwijaya', \"alias\": \"SJ\"}, {'id': 'CL', 'name': 'Citilink', \"alias\": \"CL\"}],\n    };\n    this.togglePrimary = this.togglePrimary.bind(this);\n    this.toggleOrder = this.toggleOrder.bind(this);\n  }\n  componentWillMount(){\n    this.handleResetFlightAction();\n    const { q, page, limit }= this.state.params;\n    this.loadDataListFlight(q, page, limit);\n    this.downloadData()\n  }\n  handleResetFlightAction(){\n    const { dispatch }     = this.props;\n    const { resetFlightAction } = this.props.actions;\n    resetFlightAction(dispatch);\n  }\n  loadDataListFlight(query, page, limit){\n    const { dispatch }     = this.props;\n    let params = {\n      q:query, \n      page:page,\n      limit:limit\n    }\n    const { flightAction } = this.props.actions;\n    let token = !this.props.login.token ? '' : this.props.login.token;\n    flightAction(dispatch, params, token);\n  }\n  downloadData(){\n    const { dispatch }     = this.props;\n    let params = {\n      q:'', \n      page:1,\n      limit:!this.props.flight.meta ? 20 : this.props.flight.meta.total\n    }\n    const { flightAction1 } = this.props.actions;\n    let token = !this.props.login.token ? '' : this.props.login.token;\n    flightAction1(dispatch, params, token);\n  }\n  togglePrimary() {\n    this.setState({ modal: !this.state.modal });\n  }\n  toggleOrder(row){\n    this.setState({ modalOrder: !this.state.modalOrder, selectDetail: row});\n  }\n  handleInputSearch(index) {\n    const { data } = this.state;\n    const { setSearching } = this.props.actionsCommon;\n    let dataPost = {\n      products: data[index].booking\n    };\n    setSearching(dataPost);\n  }\n  actionCol(index, row) {\n    return (\n      <div>\n        <Button className=\"button-primary\"  onClick={()=>this.toggleOrder(row)}>\n          VIEW\n        </Button>\n        {/* <Button color=\"primary\" >EDIT</Button>{' '}\n            <Button color=\"danger\" onClick={() => this.toggleDelete(id)}>DELETE</Button> */}\n      </div>\n    );\n  }\n  renderStatusFlight(id, row){\n    return (\n      <div className={(!row ? '' : !row.status ? '' :row.status).toLowerCase()}>{!row ? '' : !row.status ? '' :row.status }</div>\n    );\n  }\n  indexList=0;\n  columns = [\n    { dataField: \"index\", text: \"NO\", headerStyle: { width: \"3%\" }},\n    { dataField: \"booking_code\", text: \"BOOKING ID\", headerStyle: { width: \"10%\" }},\n    { dataField: \"id\", text: \"DATE\", headerStyle: { width: \"14%\" },formatter:(id, row)=>moment(row.date).format(\"YYYY-MM-DD\") },\n    { dataField: \"route\", text: \"RUTE\", headerStyle: { width: \"18%\" } },\n    { dataField: \"total_amount\", text: \"AMOUNT\", headerStyle: { width: \"15%\" }, formatter:(id, row)=> formatRupiah(!row ? 0 : !row.total_amount ? 0 : row.total_amount)},\n    { dataField: \"airline\",text: \"AIRLINES\", headerStyle: { width: \"10%\" }},\n    // { dataField: \"source\", text: \"TRANSACTION\", headerStyle: { width: \"5%\" }},\n    { dataField: \"status\", text: \"STATUS\", headerStyle: { width: \"5%\" }, formatter:this.renderStatusFlight.bind(this)},\n    { dataField: \"action\",text: \"ACTION\", headerStyle: { width: \"10%\" }, formatter: (id, row)=>this.actionCol( id, row) }\n  ];\n\n  reloadDataFlight = false;\n  \n  handleTableChange = (type, { page, sizePerPage }) => {\n    let { params } = this.state;\n    params.page=page;\n    params.sizePerPage=sizePerPage;\n    this.loadDataListFlight(params.q, params.page, params.limit);\n    this.setState({params:params});\n  }\n  handleChangeSearch(value){\n    let { params } = this.state;\n    params.q=value;\n    this.setState({params});\n    this.loadDataListFlight(params.q, params.page, params.limit);\n  }\n  renderLoading(){\n    return(\n      <div className=\"box-loading\" style={{marginTop: 50, marginBottom:50}}>\n        <Loading\n          type=\"PulseLoader\"\n          loading={true}\n          color={'#0290d2'}\n          size={25}\n        />\n      </div>\n    )\n  }\n\n  render() {\n    const { params, selectDetail }  = this.state;\n    const { meta= {total:1}  } = this.props.flight;\n    const { fetchingListFlight } = this.props.flight\n    let dataListFlight = this.props.flight.dataFlight==null ? [] : this.props.flight.dataFlight;\n    let dataViewListFlight = this.props.flight.dataListFlight==null ? [] : this.props.flight.dataListFlight;\n    let index=0;\n    let no=0;\n    dataViewListFlight.map((obj,i)=>{\n      index++;\n      obj.index= params.page===1 ? index : index+Number(params.page*params.sizePerPage)-20;\n    });\n    dataListFlight.map((obj,i)=>{\n      no++;\n      obj.index= no;\n    });\n    return (\n      <div className=\"section-search\">\n        <Row className=\"search-flight-heading\" style={{ paddingBottom: \"40px\" }} >\n          Data Flight\n        </Row>\n        <Row className=\"step-form-table\">\n          <div style={{ width: \"100%\" }}>\n            <SubHeader title={\"Data Flight\"} />\n              <div className=\"form-search\">\n                <PaginationRemote download={dataListFlight==null ? false : true}\n                  searchPlaceholder=\"Search in Here\"\n                  loading={fetchingListFlight}\n                  handleChangeSearch={this.handleChangeSearch.bind(this)}\n                  searchValue={params.q}\n                  dataexport={ dataListFlight }\n                  data={ dataViewListFlight }\n                  columns={this.columns}\n                  page={ params.page }\n                  sizePerPage={ params.sizePerPage }\n                  totalSize={ !meta ? 1 : meta.total }\n                  onTableChange={ this.handleTableChange }\n                  // id='ariline_id'\n                  // dataAirlines={this.state.airlines}\n                />\n                <Modal isOpen={this.state.modalOrder} togglePrimary={this.toggleOrder} className={\"modal-primary \" + this.props.className} >\n                  <ModalHeader style={{ background: PRIMARY_COLOR, color: \"#ffffff\" }} toggle={this.toggleOrder}>\n                    Details Order\n                  </ModalHeader>\n                  <ModalBody style={{ marginTop: 0, marginBottom: 0, paddingTop: 0, paddingBottom: 0 }}>\n                    <Row className=\"show-tab\">\n                      <Tabs>\n                        <ContactDetail selectDetail={selectDetail} title=\"Contact Details\" />\n                        <InfoPassenger selectDetail={selectDetail} title=\"Pessanger Information\" />\n                      </Tabs>\n                    </Row>\n                  </ModalBody>\n                </Modal>\n              </div>\n            {/* } */}\n          </div>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default DataFlight;\n"]},"metadata":{},"sourceType":"module"}