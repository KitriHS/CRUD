{"ast":null,"code":"import _classCallCheck from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/kitrihapsari/Documents/React/cmsasitaaja/src/pages/user/traveler/Component.js\";\nimport React from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody, Input, Col, FormGroup } from \"reactstrap\";\nimport SubHeader from '../../../component/sub-header';\nimport moment from \"moment\";\nimport PaginationRemote from './../../../component/PaginationRemote';\nimport { PulseLoader } from \"react-spinners\";\nimport { withRouter } from \"react-router-dom\";\n\nvar Traveler =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Traveler, _React$Component);\n\n  function Traveler(props) {\n    var _this;\n\n    _classCallCheck(this, Traveler);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Traveler).call(this, props));\n\n    _this.handleTableChange = function (type, _ref) {\n      var page = _ref.page,\n          sizePerPage = _ref.sizePerPage;\n      var params = _this.state.params;\n      params.page = page;\n      params.sizePerPage = sizePerPage;\n\n      _this.loadDataListCustomers(params.q, params.page, params.limit, params.parent_id, params.is_agent);\n\n      _this.setState({\n        params: params\n      });\n    };\n\n    _this.no = 0;\n    _this.columns = [{\n      dataField: \"no\",\n      text: \"NO\",\n      headerStyle: {\n        width: \"5%\"\n      }\n    }, {\n      dataField: \"fullname\",\n      text: \"NAME\",\n      headerStyle: {\n        width: \"22%\"\n      }\n    }, {\n      dataField: \"mobileNo\",\n      text: \"PHONE NUMBER\",\n      headerStyle: {\n        width: \"17%\"\n      }\n    }, {\n      dataField: \"email\",\n      text: \"EMAIL\",\n      headerStyle: {\n        width: \"18%\"\n      }\n    }, // { dataField: \"birthDate\", text: \"BIRTH DATE\", headerStyle: { width: \"10%\" } },\n    {\n      dataField: \"updatedAt\",\n      text: \"DATE CREATE\",\n      headerStyle: {\n        width: \"17%\"\n      },\n      formatter: function formatter(id, row) {\n        return moment(row.createdAt).format(\"DD-MM-YYYY\");\n      }\n    }, // { dataField: \"status\", text: \"STATUS\", headerStyle: { width: \"8%\" }, formatter: (id,row)=> <div>USER</div> },\n    {\n      dataField: \"agent\",\n      text: \"AGENT\",\n      headerStyle: {\n        width: \"5%\"\n      },\n      formatter: function formatter(index, row) {\n        return _this.actionAgent(index, row);\n      }\n    }, {\n      dataField: \"sub-agent\",\n      text: \"SUB\",\n      headerStyle: {\n        width: \"10%\"\n      },\n      formatter: function formatter(index, row) {\n        return _this.actionSubAgent(index, row);\n      }\n    }];\n    _this.reloadDataUser = false;\n    _this.state = {\n      search: \"\",\n      params: {\n        q: '',\n        page: 1,\n        limit: 20,\n        sizePerPage: 20,\n        totalSize: 200,\n        parent_id: '',\n        is_agent: ''\n      },\n      mobile: false,\n      modalSubAgent: false,\n      modal: false,\n      group_role_id: \"\",\n      selectSubAgent: null,\n      agentCheck: false,\n      subAgentCheck: false,\n      id: '',\n      emailAgent: ''\n    };\n    _this.toggleSubAgent = _this.toggleSubAgent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleClose = _this.toggleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.selectAgent = _this.selectAgent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Traveler, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.hendleResetCustomersAction();\n      var _this$state$params = this.state.params,\n          q = _this$state$params.q,\n          page = _this$state$params.page,\n          limit = _this$state$params.limit,\n          parent_id = _this$state$params.parent_id,\n          is_agent = _this$state$params.is_agent;\n      this.loadDataListCustomers(q, page, limit, parent_id, is_agent);\n\n      if (window.screen.availWidth < 756) {\n        this.setState({\n          mobile: true\n        });\n      } else {\n        this.setState({\n          mobile: false\n        });\n      }\n    }\n  }, {\n    key: \"hendleResetCustomersAction\",\n    value: function hendleResetCustomersAction() {\n      var dispatch = this.props.dispatch;\n      var resetCustomersAction = this.props.actions.resetCustomersAction;\n      resetCustomersAction(dispatch);\n    }\n  }, {\n    key: \"loadDataListCustomers\",\n    value: function loadDataListCustomers(query, page, limit, parent_id, is_agent) {\n      var dispatch = this.props.dispatch;\n      var params = {\n        q: query,\n        page: page,\n        limit: limit,\n        parent_id: parent_id,\n        is_agent: is_agent\n      };\n      var customerAction = this.props.actions.customerAction; // let token = !this.props.login ? '' : this.login.token;\n\n      customerAction(dispatch, params);\n    }\n  }, {\n    key: \"handleInputSearch\",\n    value: function handleInputSearch(index) {\n      var data = this.state.data;\n      var setSearching = this.props.actionsCommon.setSearching;\n      var dataPost = {\n        products: data[index].booking\n      };\n      setSearching(dataPost);\n    }\n  }, {\n    key: \"handleChangeSearch\",\n    value: function handleChangeSearch(value) {\n      var params = this.state.params;\n      params.q = value;\n      this.setState({\n        params: params\n      });\n      this.loadDataListCustomers(params.q, params.page, params.limit, params.parent_id, params.is_agent);\n    }\n  }, {\n    key: \"handleAgent\",\n    value: function handleAgent(row) {\n      var dispatch = this.props.dispatch;\n      var agentSubAction = this.props.actions.agentSubAction;\n\n      var _id = !row ? '0' : !row.id ? '0' : row.id;\n\n      var postData = {};\n      agentSubAction(dispatch, postData, _id, this.handleCallback.bind(this));\n    }\n  }, {\n    key: \"handleCallback\",\n    value: function handleCallback(callback) {\n      var _this$props = this.props,\n          dispatch = _this$props.dispatch,\n          history = _this$props.history;\n      var setAlertMessage = this.props.actionsAlert.setAlertMessage;\n\n      if (callback.success) {\n        setAlertMessage(dispatch, true, {\n          title: 'INFO',\n          message: \"User has been added as an Agent\"\n        });\n        history.push('/home');\n      } else {\n        var _message = !callback.message ? 'Check your data' : callback.message;\n\n        setAlertMessage(dispatch, true, {\n          title: 'INFO',\n          message: _message\n        });\n      }\n    }\n  }, {\n    key: \"toggleSubAgent\",\n    value: function toggleSubAgent(row) {\n      this.setState({\n        modalSubAgent: !this.state.modalSubAgent,\n        selectSubAgent: row\n      });\n    }\n  }, {\n    key: \"submitSubAgent\",\n    value: function submitSubAgent() {\n      var dispatch = this.props.dispatch;\n      var agentSubAction = this.props.actions.agentSubAction;\n      var setAlertMessage = this.props.actionsAlert.setAlertMessage;\n\n      if (this.state.emailAgent === \"\") {\n        setAlertMessage(dispatch, true, {\n          title: 'Info',\n          messsage: \"Select Data Agent\"\n        });\n      } else {\n        var _this$state = this.state,\n            emailAgent = _this$state.emailAgent,\n            selectSubAgent = _this$state.selectSubAgent;\n\n        var _id = !selectSubAgent ? '0' : !selectSubAgent.id ? '0' : selectSubAgent.id;\n\n        var postData = {\n          parent_id: parseInt(emailAgent)\n        };\n        agentSubAction(dispatch, postData, _id, this.handleCallback.bind(this));\n        this.setState({\n          modalSubAgent: false\n        });\n      }\n    }\n  }, {\n    key: \"renderSubmit\",\n    value: function renderSubmit() {\n      var _this2 = this;\n\n      var emailAgent = this.state.emailAgent;\n\n      if (emailAgent == \"\") {\n        return React.createElement(Row, {\n          style: {\n            textAlign: 'start',\n            marginTop: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: \"3\",\n          style: {\n            textAlign: 'start'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: this.toggleSubAgent,\n          style: {\n            backgroundColor: '#bebebe',\n            borderColor: '#bebebe'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"CANCEL\"))), React.createElement(Col, {\n          xs: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: function onClick() {\n            return _this2.submitSubAgent();\n          },\n          style: {\n            backgroundColor: '#bebebe',\n            borderColor: '#bebebe'\n          },\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, this.props.fetchingDataAgentSub === true ? React.createElement(PulseLoader, {\n          sizeUnit: \"px\",\n          size: 10,\n          color: 'white',\n          loading: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }) : React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, \"SUBMIT\"))));\n      } else {\n        return React.createElement(Row, {\n          style: {\n            textAlign: 'start',\n            marginTop: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: \"3\",\n          style: {\n            textAlign: 'start'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: this.toggleSubAgent,\n          style: {\n            backgroundColor: '#bebebe',\n            borderColor: '#bebebe'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \"CANCEL\"))), React.createElement(Col, {\n          xs: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(Button, {\n          style: {\n            backgroundColor: '#ea6520',\n            borderColor: '#ea6520'\n          },\n          onClick: function onClick() {\n            return _this2.submitSubAgent();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"SUBMIT\"))));\n      }\n    }\n  }, {\n    key: \"toggleClose\",\n    value: function toggleClose() {\n      this.setState({\n        modal: !this.state.modal\n      });\n    }\n  }, {\n    key: \"selectAgent\",\n    value: function selectAgent(e) {\n      this.setState({\n        emailAgent: e.target.value\n      });\n    }\n  }, {\n    key: \"actionAgent\",\n    value: function actionAgent(index, row) {\n      var _this3 = this;\n\n      var _isAgent = row.isAgent && row.parentAgent === null ? true : false; // let _isAgent= !row ? false : !row.isAgent ? false : row.isAgent\n\n\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          width: 65\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: function onChange() {\n          return _this3.handleAgent(row, index);\n        },\n        type: \"checkbox\",\n        name: \"agent\",\n        checked: _isAgent,\n        value: _isAgent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"actionSubAgent\",\n    value: function actionSubAgent(index, row) {\n      var _this4 = this;\n\n      var parentAgent = !row.isAgent && row.parentAgent === null ? false : row.parentAgent; // let parentAgent= !row ? null : !row.parentAgent ? null : row.parentAgent\n\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          width: 65\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        onChange: function onChange() {\n          return _this4.toggleSubAgent(row, index);\n        },\n        checked: parentAgent,\n        value: parentAgent,\n        name: \"sub-agent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          params = _this$state2.params,\n          mobile = _this$state2.mobile,\n          selectSubAgent = _this$state2.selectSubAgent;\n      var _this$props$customers = this.props.customers.meta,\n          meta = _this$props$customers === void 0 ? {\n        total: 1\n      } : _this$props$customers;\n      var fetchingListCustomers = this.props.customers.fetchingListCustomers;\n      var dataAgent = this.props.listdataagentsub.dataAgent; // let index=0;\n\n      var no = 0;\n      var viewDataListCustomers = this.props.customers.dataListAllCustomers == null ? [] : this.props.customers.dataListAllCustomers; // let dataViewListCustomers = this.props.customers.dataListCustomers == null ? [] : this.props.customers.dataListCustomers;\n\n      viewDataListCustomers.map(function (obj, i) {\n        no++;\n        obj.no = params.page === 1 ? no : no + Number(params.page * params.sizePerPage) - 20;\n      }); // dataListCustomers.map((obj,i) => {\n      //   no++;\n      //   obj.index=  no;\n      // })\n\n      return React.createElement(\"div\", {\n        lassName: \"section-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"search-flight-heading\",\n        style: {\n          paddingBottom: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Data Traveler\"), React.createElement(Row, {\n        className: \"step-form-table mbot30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(SubHeader, {\n        title: \"Data Traveler\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-search\",\n        style: mobile ? {\n          overflow: \"scroll\",\n          width: window.innerWidth - 20\n        } : {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(PaginationRemote, {\n        tableCustomers: true,\n        loading: fetchingListCustomers,\n        searchPlaceholder: \"Search in Here\",\n        handleChangeSearch: this.handleChangeSearch.bind(this),\n        searchValue: params.q // dataexport={dataListCustomers}\n        ,\n        data: viewDataListCustomers,\n        columns: this.columns,\n        page: params.page,\n        sizePerPage: params.sizePerPage,\n        totalSize: !meta ? 1 : meta.total,\n        onTableChange: this.handleTableChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        style: {\n          paddingTop: 70\n        },\n        isOpen: this.state.modalSubAgent,\n        toggleClose: this.toggleSubAgent,\n        className: \"modal-primary \" + this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        style: {\n          background: '#008c9a',\n          color: \"#ffffff\",\n          fontWeight: 600\n        },\n        toggle: this.toggleSubAgent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Add Sub Agent\"), React.createElement(ModalBody, {\n        style: {\n          marginTop: 35,\n          marginBottom: 35,\n          paddingTop: 0,\n          paddingBottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"show-tab\",\n        size: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(Input, {\n        value: this.state.emailAgent,\n        type: \"select\",\n        onChange: this.selectAgent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Select Agent\"), dataAgent == null ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"There not found\") : dataAgent.map(function (result) {\n        return React.createElement(\"option\", {\n          key: result.id,\n          value: result.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, result.email);\n      })))), React.createElement(Input, {\n        type: \"text\",\n        id: \"email\",\n        placeholder: \"Email Sub Agent\",\n        value: selectSubAgent === null ? '' : !selectSubAgent.email ? '' : selectSubAgent.email,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }))), this.renderSubmit()))))));\n    }\n  }]);\n\n  return Traveler;\n}(React.Component);\n\nexport default withRouter(Traveler);","map":{"version":3,"sources":["/Users/kitrihapsari/Documents/React/cmsasitaaja/src/pages/user/traveler/Component.js"],"names":["React","Row","Button","Modal","ModalHeader","ModalBody","Input","Col","FormGroup","SubHeader","moment","PaginationRemote","PulseLoader","withRouter","Traveler","props","handleTableChange","type","page","sizePerPage","params","state","loadDataListCustomers","q","limit","parent_id","is_agent","setState","no","columns","dataField","text","headerStyle","width","formatter","id","row","createdAt","format","index","actionAgent","actionSubAgent","reloadDataUser","search","totalSize","mobile","modalSubAgent","modal","group_role_id","selectSubAgent","agentCheck","subAgentCheck","emailAgent","toggleSubAgent","bind","toggleClose","selectAgent","hendleResetCustomersAction","window","screen","availWidth","dispatch","resetCustomersAction","actions","query","customerAction","data","setSearching","actionsCommon","dataPost","products","booking","value","agentSubAction","_id","postData","handleCallback","callback","history","setAlertMessage","actionsAlert","success","title","message","push","_message","messsage","parseInt","textAlign","marginTop","backgroundColor","borderColor","submitSubAgent","fetchingDataAgentSub","e","target","_isAgent","isAgent","parentAgent","handleAgent","customers","meta","total","fetchingListCustomers","dataAgent","listdataagentsub","viewDataListCustomers","dataListAllCustomers","map","obj","i","Number","paddingBottom","overflow","innerWidth","handleChangeSearch","paddingTop","className","background","color","fontWeight","marginBottom","result","email","renderSubmit","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody, Input, Col, FormGroup } from \"reactstrap\";\nimport SubHeader from '../../../component/sub-header'\nimport moment from \"moment\"\nimport PaginationRemote from './../../../component/PaginationRemote'\nimport { PulseLoader } from \"react-spinners\";\nimport { withRouter } from \"react-router-dom\";\n\nclass Traveler extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      params: {\n        q: '',\n        page: 1,\n        limit: 20,\n        sizePerPage: 20,\n        totalSize: 200,\n        parent_id: '',\n        is_agent: ''\n      },\n      mobile: false,\n      modalSubAgent: false,\n      modal: false,\n      group_role_id: \"\",\n      selectSubAgent: null,\n      agentCheck: false,\n      subAgentCheck: false,\n      id: '',\n      emailAgent: '',\n    };\n    this.toggleSubAgent = this.toggleSubAgent.bind(this)\n    this.toggleClose = this.toggleClose.bind(this)\n    this.selectAgent = this.selectAgent.bind(this)\n  }\n\n  componentWillMount() {\n    this.hendleResetCustomersAction();\n    const { q, page, limit, parent_id, is_agent } = this.state.params;\n    this.loadDataListCustomers(q, page, limit, parent_id, is_agent)\n    if (window.screen.availWidth < 756) {\n      this.setState({ mobile: true })\n    } else {\n      this.setState({ mobile: false })\n    }\n  }\n  hendleResetCustomersAction() {\n    const { dispatch } = this.props;\n    const { resetCustomersAction } = this.props.actions;\n    resetCustomersAction(dispatch)\n  }\n  loadDataListCustomers(query, page, limit, parent_id, is_agent) {\n    const { dispatch } = this.props;\n    let params = {\n      q: query,\n      page: page,\n      limit: limit,\n      parent_id: parent_id,\n      is_agent: is_agent\n    }\n    const { customerAction } = this.props.actions;\n    // let token = !this.props.login ? '' : this.login.token;\n    customerAction(dispatch, params)\n  }\n\n  handleInputSearch(index) {\n    const { data } = this.state;\n    const { setSearching } = this.props.actionsCommon;\n    let dataPost = {\n      products: data[index].booking\n    };\n    setSearching(dataPost);\n  }\n  handleTableChange = (type, { page, sizePerPage }) => {\n    let { params } = this.state;\n    params.page = page;\n    params.sizePerPage = sizePerPage;\n    this.loadDataListCustomers(params.q, params.page, params.limit, params.parent_id, params.is_agent);\n    this.setState({ params: params })\n  }\n  handleChangeSearch(value) {\n    let { params } = this.state;\n    params.q = value;\n    this.setState({ params });\n    this.loadDataListCustomers(params.q, params.page, params.limit, params.parent_id, params.is_agent);\n  }\n  handleAgent(row) {\n    const { dispatch } = this.props;\n    const { agentSubAction } = this.props.actions;\n    let _id = !row ? '0' : !row.id ? '0' : row.id;\n    let postData = {\n    }\n    agentSubAction(dispatch, postData, _id, this.handleCallback.bind(this))\n\n  }\n  handleCallback(callback) {\n    const { dispatch, history } = this.props;\n    const { setAlertMessage } = this.props.actionsAlert;\n    if (callback.success) {\n      setAlertMessage(dispatch, true, { title: 'INFO', message: \"User has been added as an Agent\" });\n      history.push('/home');\n    } else {\n      let _message = !callback.message ? 'Check your data' : callback.message;\n      setAlertMessage(dispatch, true, { title: 'INFO', message: _message });\n    }\n  }\n  toggleSubAgent(row) {\n    this.setState(\n      {\n        modalSubAgent: !this.state.modalSubAgent,\n        selectSubAgent: row\n      })\n  }\n  submitSubAgent() {\n    const { dispatch } = this.props;\n    const { agentSubAction } = this.props.actions;\n    const { setAlertMessage } = this.props.actionsAlert;\n    if (this.state.emailAgent === \"\") {\n      setAlertMessage(dispatch, true, { title: 'Info', messsage: \"Select Data Agent\" })\n    } else {\n      let { emailAgent, selectSubAgent } = this.state\n      let _id = !selectSubAgent ? '0' : !selectSubAgent.id ? '0' : selectSubAgent.id;\n      let postData = {\n        parent_id: parseInt(emailAgent)\n      }\n      agentSubAction(dispatch, postData, _id, this.handleCallback.bind(this));\n      this.setState({ modalSubAgent: false });\n    }\n  }\n  renderSubmit() {\n    const { emailAgent } = this.state\n    if (emailAgent == \"\") {\n      return (\n        <Row style={{ textAlign: 'start', marginTop: 20 }}>\n          <Col xs=\"3\" style={{ textAlign: 'start' }}><Button onClick={this.toggleSubAgent} style={{ backgroundColor: '#bebebe', borderColor: '#bebebe' }}><b>CANCEL</b></Button></Col>\n          <Col xs=\"9\">\n            <Button onClick={() => this.submitSubAgent()} style={{ backgroundColor: '#bebebe', borderColor: '#bebebe' }} disabled>\n              {(this.props.fetchingDataAgentSub === true) ?\n                <PulseLoader sizeUnit={\"px\"} size={10} color={'white'} loading={true} /> : <b>SUBMIT</b>\n              }\n            </Button>\n          </Col>\n        </Row>\n      )\n    } else {\n      return (\n        <Row style={{ textAlign: 'start', marginTop: 20 }}>\n          <Col xs=\"3\" style={{ textAlign: 'start' }}><Button onClick={this.toggleSubAgent} style={{ backgroundColor: '#bebebe', borderColor: '#bebebe' }}><b>CANCEL</b></Button></Col>\n          <Col xs=\"9\"><Button style={{ backgroundColor: '#ea6520', borderColor: '#ea6520' }} onClick={() => this.submitSubAgent()}><b>SUBMIT</b></Button></Col>\n        </Row>\n      )\n    }\n  }\n  toggleClose() { this.setState({ modal: !this.state.modal }); }\n  selectAgent(e) { this.setState({ emailAgent: e.target.value }) }\n  actionAgent(index, row) {\n    let _isAgent = row.isAgent && row.parentAgent === null ? true : false;\n    // let _isAgent= !row ? false : !row.isAgent ? false : row.isAgent\n    return (\n      <div style={{ textAlign: 'center', width: 65 }}><input onChange={() => this.handleAgent(row, index)} type=\"checkbox\" name=\"agent\" checked={_isAgent} value={_isAgent}></input></div>\n    )\n  }\n  actionSubAgent(index, row) {\n    let parentAgent = !row.isAgent && row.parentAgent === null ? false : row.parentAgent;\n    // let parentAgent= !row ? null : !row.parentAgent ? null : row.parentAgent\n    return (\n      <div style={{ textAlign: 'center', width: 65 }}><input type=\"checkbox\" onChange={() => this.toggleSubAgent(row, index)} checked={parentAgent} value={parentAgent} name=\"sub-agent\" ></input></div>\n    )\n  }\n\n  no = 0\n  columns = [\n    { dataField: \"no\", text: \"NO\", headerStyle: { width: \"5%\" } },\n    { dataField: \"fullname\", text: \"NAME\", headerStyle: { width: \"22%\" } },\n    { dataField: \"mobileNo\", text: \"PHONE NUMBER\", headerStyle: { width: \"17%\" } },\n    { dataField: \"email\", text: \"EMAIL\", headerStyle: { width: \"18%\" } },\n    // { dataField: \"birthDate\", text: \"BIRTH DATE\", headerStyle: { width: \"10%\" } },\n    { dataField: \"updatedAt\", text: \"DATE CREATE\", headerStyle: { width: \"17%\" }, formatter: (id, row) => moment(row.createdAt).format(\"DD-MM-YYYY\") },\n    // { dataField: \"status\", text: \"STATUS\", headerStyle: { width: \"8%\" }, formatter: (id,row)=> <div>USER</div> },\n    { dataField: \"agent\", text: \"AGENT\", headerStyle: { width: \"5%\" }, formatter: (index, row) => this.actionAgent(index, row) },\n    { dataField: \"sub-agent\", text: \"SUB\", headerStyle: { width: \"10%\" }, formatter: (index, row) => this.actionSubAgent(index, row) }\n  ];\n  reloadDataUser = false;\n\n  render() {\n    const { params, mobile, selectSubAgent } = this.state;\n    const { meta = { total: 1 } } = this.props.customers;\n    const { fetchingListCustomers } = this.props.customers;\n    const { dataAgent } = this.props.listdataagentsub\n    // let index=0;\n    let no = 0\n    let viewDataListCustomers = this.props.customers.dataListAllCustomers == null ? [] : this.props.customers.dataListAllCustomers;\n    // let dataViewListCustomers = this.props.customers.dataListCustomers == null ? [] : this.props.customers.dataListCustomers;\n    viewDataListCustomers.map((obj, i) => {\n      no++;\n      obj.no = params.page === 1 ? no : no + Number(params.page * params.sizePerPage) - 20;\n    });\n    // dataListCustomers.map((obj,i) => {\n    //   no++;\n    //   obj.index=  no;\n    // })\n    return (\n      <div lassName=\"section-search\">\n        <Row className=\"search-flight-heading\" style={{ paddingBottom: \"40px\" }}>Data Traveler</Row>\n        <Row className=\"step-form-table mbot30\">\n          <div style={{ width: \"100%\" }}>\n            <SubHeader title={\"Data Traveler\"} />\n            <div className=\"form-search\" style={mobile ? { overflow: \"scroll\", width: window.innerWidth - 20 } : {}}>\n              <PaginationRemote tableCustomers={true}\n                loading={fetchingListCustomers}\n                searchPlaceholder=\"Search in Here\"\n                handleChangeSearch={this.handleChangeSearch.bind(this)}\n                searchValue={params.q}\n                // dataexport={dataListCustomers}\n                data={viewDataListCustomers}\n                columns={this.columns}\n                page={params.page}\n                sizePerPage={params.sizePerPage}\n                totalSize={!meta ? 1 : meta.total}\n                onTableChange={this.handleTableChange}\n              />\n              <Modal style={{ paddingTop: 70 }} isOpen={this.state.modalSubAgent} toggleClose={this.toggleSubAgent} className={\"modal-primary \" + this.props.className} >\n                <ModalHeader style={{ background: '#008c9a', color: \"#ffffff\", fontWeight: 600 }} toggle={this.toggleSubAgent}>\n                  Add Sub Agent\n                </ModalHeader>\n                <ModalBody style={{ marginTop: 35, marginBottom: 35, paddingTop: 0, paddingBottom: 0 }}>\n                  <Row>\n                    <Col className=\"show-tab\" size={10}>\n                      <FormGroup row>\n                        <Col xs=\"12\" md=\"12\">\n                          <Input value={this.state.emailAgent} type=\"select\" onChange={this.selectAgent}>\n                            <option value=\"0\">Select Agent</option>\n                            {dataAgent == null ?\n                              <div>There not found</div>\n                              :\n                              dataAgent.map(result => (\n                                <option key={result.id} value={result.id}>{result.email}</option>\n                              ))\n                            }\n                          </Input>\n                        </Col>\n                      </FormGroup>\n                      <Input type=\"text\" id=\"email\" placeholder=\"Email Sub Agent\" value={selectSubAgent === null ? '' : !selectSubAgent.email ? '' : selectSubAgent.email} disabled />\n                    </Col>\n                  </Row>\n                  {this.renderSubmit()}\n                </ModalBody>\n              </Modal>\n            </div>\n          </div>\n        </Row>\n      </div>\n    )\n  }\n}\nexport default withRouter(Traveler);"]},"metadata":{},"sourceType":"module"}