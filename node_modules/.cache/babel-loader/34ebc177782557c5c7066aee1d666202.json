{"ast":null,"code":"import _slicedToArray from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kitrihapsari/Documents/React/cmsasitaaja/src/pages/umrah/List.js\";\nimport React, { useState, useEffect } from 'react';\nimport List from './components/List';\nimport Pagination from '../../component/Pagination';\nexport default (function (props) {\n  // Props\n  var onMode = props.onMode,\n      dispatch = props.dispatch,\n      onList = props.onList,\n      isLoading = props.isLoading,\n      onDelete = props.onDelete,\n      token = props.token; // State\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      isData = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isCurrent = _useState4[0],\n      setCurrent = _useState4[1];\n\n  var _useState5 = useState(4),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isPerPage = _useState6[0],\n      setPerPage = _useState6[1]; // Lifecycle\n\n\n  useEffect(function () {\n    getData();\n  }, []); // Fucntion\n\n  var getData = function getData() {\n    onList(dispatch, '', function (callback) {\n      return onCallback(callback, 'get');\n    });\n  };\n\n  var _onDelete = function _onDelete(id, i) {\n    onDelete(dispatch, token, id, function (callback) {\n      return onCallback(callback, 'del');\n    });\n  };\n\n  var onCallback = function onCallback(callback, type) {\n    if (type === 'get') {\n      if (callback.success) {\n        setData(callback.data.items);\n        setCurrent(callback.data.pageIndex);\n        setPerPage(callback.data.itemsPerPage);\n      }\n    } else {\n      if (callback.success) {\n        getData();\n      }\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"u-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"u-title u-row space-between\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Umrah Packages\"), React.createElement(\"div\", {\n    className: \"u-btn\",\n    onClick: function onClick() {\n      return onMode('add');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Create Umrah\")), React.createElement(\"div\", {\n    className: \"u-box padding-horizon-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, isData && isData.map(function (item, i) {\n    return React.createElement(List, {\n      index: i,\n      img: item.image_thumbnail,\n      title: item.title,\n      price: item.price_adult,\n      onDelete: function onDelete() {\n        return _onDelete(item.id);\n      },\n      onEdit: function onEdit() {\n        return onMode('edit', item.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    });\n  })), React.createElement(\"div\", {\n    className: \"u-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Pagination, {\n    data: isData === null ? [] : isData,\n    currentPage: isCurrent,\n    dataPerPage: 17,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })));\n});","map":{"version":3,"sources":["/Users/kitrihapsari/Documents/React/cmsasitaaja/src/pages/umrah/List.js"],"names":["React","useState","useEffect","List","Pagination","props","onMode","dispatch","onList","isLoading","onDelete","token","isData","setData","isCurrent","setCurrent","isPerPage","setPerPage","getData","callback","onCallback","_onDelete","id","i","type","success","data","items","pageIndex","itemsPerPage","map","item","image_thumbnail","title","price_adult"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport List from './components/List';\nimport Pagination from '../../component/Pagination';\n\nexport default (props) => {\n  // Props\n  const { onMode, dispatch, onList, isLoading, onDelete, token } = props;\n\n  // State\n  const [isData, setData] = useState(null)\n  const [isCurrent, setCurrent] = useState(1)\n  const [isPerPage, setPerPage] = useState(4)\n\n  // Lifecycle\n  useEffect(() => {\n    getData();\n  }, [])\n\n  // Fucntion\n  const getData = () => {\n    onList(dispatch, '', (callback) => onCallback(callback, 'get'));\n  }\n  const _onDelete = (id, i) => {\n    onDelete(dispatch, token, id, (callback) => onCallback(callback, 'del'));\n  }\n  const onCallback = (callback, type) => {\n    if (type === 'get') {\n      if (callback.success) {\n        setData(callback.data.items)\n        setCurrent(callback.data.pageIndex)\n        setPerPage(callback.data.itemsPerPage)\n      }\n    } else {\n      if (callback.success) {\n        getData()\n      }\n    }\n  }\n\n  return (\n    <div className=\"u-wrapper\">\n      <div className=\"u-title u-row space-between\">\n        <div>Umrah Packages</div>\n        <div className=\"u-btn\" onClick={() => onMode('add')}>Create Umrah</div>\n      </div>\n      <div className=\"u-box padding-horizon-0\">\n        {isData && isData.map((item, i) => {\n          return (\n            <List\n              index={i}\n              img={item.image_thumbnail}\n              title={item.title}\n              price={item.price_adult}\n              onDelete={() => _onDelete(item.id)}\n              onEdit={() => onMode('edit', item.id)}\n            />\n          )\n        })}\n      </div>\n      <div className=\"u-box\">\n        <Pagination data={isData === null ? [] : isData} currentPage={isCurrent} dataPerPage={17} />\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}