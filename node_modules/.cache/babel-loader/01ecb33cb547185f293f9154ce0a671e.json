{"ast":null,"code":"import _classCallCheck from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/kitrihapsari/Documents/React/cmsasitaaja/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/kitrihapsari/Documents/React/cmsasitaaja/src/pages/hotel/Component.js\";\nimport React from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody } from \"reactstrap\";\nimport Tabs from \"../../component/tabs\";\nimport InfoPassenger from \"./component/info-passenger\";\nimport ContactDetails from './component/contact-details';\nimport SubHeader from \"../../component/sub-header\";\nimport { PRIMARY_COLOR } from \"../../config/constant\";\nimport PaginationRemote from \"./../../component/PaginationRemote\";\nimport moment from \"moment\";\nimport { formatRupiah } from \"./../../utilities/helpers\";\n\nvar dataOrder =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(dataOrder, _React$PureComponent);\n\n  function dataOrder(props) {\n    var _this;\n\n    _classCallCheck(this, dataOrder);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(dataOrder).call(this, props));\n\n    _this.handleTableChange = function (type, _ref) {\n      var page = _ref.page,\n          sizePerPage = _ref.sizePerPage;\n      var params = _this.state.params;\n      params.page = page;\n      params.sizePerPage = sizePerPage;\n\n      _this.loaddataOrder(params.q, params.page, params.limit, params.customer_id, params.end_date, params.start_date, params.status, params.product_code);\n\n      _this.setState({\n        params: params\n      });\n    };\n\n    _this.columns = [{\n      dataField: \"index\",\n      text: \"NO\",\n      headerStyle: {\n        width: \"3%\"\n      }\n    }, {\n      dataField: \"booking_code\",\n      text: \"BOOKING\",\n      headerStyle: {\n        width: \"10%\"\n      }\n    }, {\n      dataField: \"contact_email\",\n      text: \"EMAIL AGENT\",\n      headerStyle: {\n        width: \"10%\"\n      }\n    }, {\n      dataField: \"contact_phone\",\n      text: \"PHONE AGENT\",\n      headerStyle: {\n        width: \"18%\"\n      }\n    }, {\n      dataField: \"created_at\",\n      text: \"DATE\",\n      formatter: function formatter(id, row) {\n        return moment(row.created_at).format(\"DD-MM-YYYY hh:mm\");\n      },\n      headerStyle: {\n        width: \"20%\"\n      }\n    }, {\n      dataField: \"total_amount\",\n      text: \"AMOUNT\",\n      formatter: function formatter(id, row) {\n        return formatRupiah(!row ? 0 : !row.total_amount ? 0 : row.total_amount);\n      },\n      headerStyle: {\n        width: \"15%\"\n      }\n    }, {\n      dataField: \"status\",\n      text: \"STATUS\",\n      formatter: _this.renderStatusTour.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n      headerStyle: {\n        width: \"10%\"\n      }\n    }, {\n      dataField: \"action\",\n      text: \"ACTION\",\n      formatter: function formatter(id, row) {\n        return _this.actionCol(id, row);\n      },\n      headerStyle: {\n        width: \"18%\",\n        textAlign: 'center'\n      }\n    }];\n    _this.state = {\n      params: {\n        q: '',\n        page: 1,\n        limit: 20,\n        sizePerPage: 20,\n        totalSize: 200,\n        start_date: '',\n        end_date: '',\n        customer_id: '',\n        status: '',\n        product_code: 'HOTEL'\n      },\n      selectDetail: null,\n      selectInfo: null,\n      modalOrder: false,\n      modalDetails: false,\n      modal: false,\n      search: \"\"\n    };\n    _this.togglePrimary = _this.togglePrimary.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleOrder = _this.toggleOrder.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.actionCol = _this.actionCol.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(dataOrder, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$state$params = this.state.params,\n          q = _this$state$params.q,\n          page = _this$state$params.page,\n          limit = _this$state$params.limit,\n          start_date = _this$state$params.start_date,\n          end_date = _this$state$params.end_date,\n          customer_id = _this$state$params.customer_id,\n          status = _this$state$params.status,\n          product_code = _this$state$params.product_code;\n      this.loaddataOrder(q, page, limit, start_date, end_date, customer_id, status, product_code);\n      this.downloadData();\n    }\n  }, {\n    key: \"loaddataOrder\",\n    value: function loaddataOrder(query, page, limit, start_date, end_date, customer_id, status) {\n      var dispatch = this.props.dispatch;\n      var params = {\n        q: query,\n        page: page,\n        limit: limit,\n        start_date: start_date,\n        end_date: end_date,\n        customer_id: customer_id,\n        status: status,\n        product_code: 'HOTEL'\n      };\n      var orderAction = this.props.actions.orderAction;\n      orderAction(dispatch, params);\n    }\n  }, {\n    key: \"downloadData\",\n    value: function downloadData() {\n      var dispatch = this.props.dispatch;\n      var params = {\n        q: \"\",\n        page: 1,\n        limit: !this.props.order.meta ? 20 : this.props.order.meta.total,\n        start_date: \"\",\n        end_date: \"\",\n        customer_id: \"\",\n        status: \"\",\n        product_code: 'HOTEL'\n      };\n      var exportOrderAction = this.props.actions.exportOrderAction;\n      exportOrderAction(dispatch, params);\n    }\n  }, {\n    key: \"handleChangeSearch\",\n    value: function handleChangeSearch(value) {\n      var params = this.state.params;\n      params.q = value;\n      this.setState({\n        params: params\n      });\n      this.loaddataOrder(params.q, params.page, params.limit, params.customer_id, params.end_date, params.start_date, params.status, params.product_code);\n    }\n  }, {\n    key: \"togglePrimary\",\n    value: function togglePrimary() {\n      this.setState({\n        modal: !this.state.modal\n      });\n    }\n  }, {\n    key: \"toggleOrder\",\n    value: function toggleOrder(row) {\n      this.setState({\n        modalOrder: !this.state.modalOrder,\n        selectDetail: row\n      });\n    }\n  }, {\n    key: \"actionCol\",\n    value: function actionCol(id, row) {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.toggleOrder(row);\n        },\n        className: \"button-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-eye fa-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"renderStatusTour\",\n    value: function renderStatusTour(id, row) {\n      return React.createElement(\"div\", {\n        className: (!row ? \"\" : !row.status ? \"\" : row.status).toLowerCase(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, !row ? \"\" : !row.status ? \"\" : row.status);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          params = _this$state.params,\n          selectDetail = _this$state.selectDetail;\n      var fetchingListOrder = this.props.order.fetchingListOrder;\n      var _this$props$order$met = this.props.order.meta,\n          meta = _this$props$order$met === void 0 ? {\n        total: 1\n      } : _this$props$order$met;\n      var exportData = this.props.order.dataOrder == null ? [] : this.props.order.dataOrder;\n      var filterData = exportData.filter(function (exportData) {\n        return exportData.status == \"PAID\";\n      });\n      var no = 0;\n      filterData.map(function (obj, i) {\n        no++;\n        obj.index = no;\n      });\n      var viewListTour = this.props.order.dataListOrder == null ? [] : this.props.order.dataListOrder;\n      var index = 0;\n      viewListTour.map(function (obj, i) {\n        index++;\n        obj.index = params.page === 1 ? index : index + Number(params.page * params.sizePerPage) - 20;\n      });\n      return React.createElement(\"div\", {\n        className: \"section-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"search-flight-heading bot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Data Hotel\"), React.createElement(Row, {\n        className: \"step-form-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(SubHeader, {\n        title: \"Data Hotel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(PaginationRemote, {\n        download: filterData == null ? false : true,\n        searchPlaceholder: \"Search Booking ID\",\n        loading: fetchingListOrder,\n        handleChangeSearch: this.handleChangeSearch.bind(this),\n        searchValue: params.q,\n        data: viewListTour,\n        dataexport: filterData,\n        columns: this.columns,\n        page: params.page,\n        sizePerPage: params.sizePerPage,\n        totalSize: !meta ? 1 : meta.total,\n        onTableChange: this.handleTableChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        isOpen: this.state.modalOrder,\n        togglePrimary: this.toggleOrder,\n        className: \"modal-primary \" + this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        style: {\n          background: PRIMARY_COLOR,\n          color: \"#ffffff\"\n        },\n        toggle: this.toggleOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Details Order\"), React.createElement(ModalBody, {\n        style: {\n          marginTop: 0,\n          marginBottom: 0,\n          paddingTop: 0,\n          paddingBottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"show-tab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(InfoPassenger, {\n        selectDetail: selectDetail,\n        title: \"Pessanger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), React.createElement(ContactDetails, {\n        selectDetail: selectDetail,\n        title: \"Information Hotel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })))))))));\n    }\n  }]);\n\n  return dataOrder;\n}(React.PureComponent);\n\nexport { dataOrder as default };","map":{"version":3,"sources":["/Users/kitrihapsari/Documents/React/cmsasitaaja/src/pages/hotel/Component.js"],"names":["React","Row","Button","Modal","ModalHeader","ModalBody","Tabs","InfoPassenger","ContactDetails","SubHeader","PRIMARY_COLOR","PaginationRemote","moment","formatRupiah","dataOrder","props","handleTableChange","type","page","sizePerPage","params","state","loaddataOrder","q","limit","customer_id","end_date","start_date","status","product_code","setState","columns","dataField","text","headerStyle","width","formatter","id","row","created_at","format","total_amount","renderStatusTour","bind","actionCol","textAlign","totalSize","selectDetail","selectInfo","modalOrder","modalDetails","modal","search","togglePrimary","toggleOrder","downloadData","query","dispatch","orderAction","actions","order","meta","total","exportOrderAction","value","toLowerCase","fetchingListOrder","exportData","filterData","filter","no","map","obj","i","index","viewListTour","dataListOrder","Number","handleChangeSearch","className","background","color","marginTop","marginBottom","paddingTop","paddingBottom","PureComponent"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody } from \"reactstrap\";\nimport Tabs from \"../../component/tabs\";\nimport InfoPassenger from \"./component/info-passenger\";\nimport ContactDetails from './component/contact-details'\nimport SubHeader from \"../../component/sub-header\";\nimport { PRIMARY_COLOR } from \"../../config/constant\";\nimport PaginationRemote from \"./../../component/PaginationRemote\";\nimport moment from \"moment\";\nimport { formatRupiah } from \"./../../utilities/helpers\";\n\nexport default class dataOrder extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      params: {\n        q: '',\n        page: 1,\n        limit: 20,\n        sizePerPage: 20,\n        totalSize: 200,\n        start_date: '',\n        end_date: '',\n        customer_id: '',\n        status: '',\n        product_code: 'HOTEL'\n      },\n      selectDetail: null,\n      selectInfo: null,\n      modalOrder: false,\n      modalDetails: false,\n      modal: false,\n      search: \"\",\n    };\n    this.togglePrimary = this.togglePrimary.bind(this);\n    this.toggleOrder = this.toggleOrder.bind(this);\n    this.actionCol = this.actionCol.bind(this);\n  }\n  componentWillMount() {\n    const { q, page, limit, start_date, end_date, customer_id, status, product_code } = this.state.params\n    this.loaddataOrder(q, page, limit, start_date, end_date, customer_id, status, product_code)\n    this.downloadData()\n  }\n  loaddataOrder(query, page, limit, start_date, end_date, customer_id, status) {\n    const { dispatch } = this.props;\n    let params = {\n      q: query,\n      page: page,\n      limit: limit,\n      start_date: start_date,\n      end_date: end_date,\n      customer_id: customer_id,\n      status: status,\n      product_code: 'HOTEL',\n    }\n    const { orderAction } = this.props.actions;\n    orderAction(dispatch, params)\n  }\n  downloadData() {\n    const { dispatch } = this.props;\n    let params = {\n      q: \"\",\n      page: 1,\n      limit: !this.props.order.meta ? 20 : this.props.order.meta.total,\n      start_date: \"\",\n      end_date: \"\",\n      customer_id: \"\",\n      status: \"\",\n      product_code: 'HOTEL'\n    }\n    const { exportOrderAction } = this.props.actions;\n    exportOrderAction(dispatch, params)\n  }\n  handleTableChange = (type, { page, sizePerPage }) => {\n    let { params } = this.state;\n    params.page = page;\n    params.sizePerPage = sizePerPage;\n    this.loaddataOrder(params.q, params.page, params.limit, params.customer_id, params.end_date, params.start_date, params.status, params.product_code);\n    this.setState({ params: params });\n  }\n  handleChangeSearch(value) {\n    let { params } = this.state;\n    params.q = value;\n    this.setState({ params });\n    this.loaddataOrder(params.q, params.page, params.limit, params.customer_id, params.end_date, params.start_date, params.status, params.product_code);\n  }\n  togglePrimary() {\n    this.setState({ modal: !this.state.modal });\n  }\n  toggleOrder(row) {\n    this.setState({ modalOrder: !this.state.modalOrder, selectDetail: row, });\n  }\n  actionCol(id, row) {\n    return (\n      <div className=\"center\">\n        <Button onClick={() => this.toggleOrder(row)} className=\"button-primary\"><i className=\"fa fa-eye fa-lg\" ></i></Button>\n      </div>\n    );\n  }\n  renderStatusTour(id, row) {\n    return (\n      <div\n        className={(!row ? \"\" : !row.status ? \"\" : row.status).toLowerCase()}\n      >\n        {!row ? \"\" : !row.status ? \"\" : row.status}\n      </div>\n    );\n  }\n  columns = [\n    { dataField: \"index\", text: \"NO\", headerStyle: { width: \"3%\" } },\n    { dataField: \"booking_code\", text: \"BOOKING\", headerStyle: { width: \"10%\" } },\n    { dataField: \"contact_email\", text: \"EMAIL AGENT\", headerStyle: { width: \"10%\" } },\n    { dataField: \"contact_phone\", text: \"PHONE AGENT\", headerStyle: { width: \"18%\" } },\n    { dataField: \"created_at\", text: \"DATE\", formatter: (id, row) => moment(row.created_at).format(\"DD-MM-YYYY hh:mm\"), headerStyle: { width: \"20%\" } },\n    { dataField: \"total_amount\", text: \"AMOUNT\", formatter: (id, row) => formatRupiah(!row ? 0 : !row.total_amount ? 0 : row.total_amount), headerStyle: { width: \"15%\" } },\n    { dataField: \"status\", text: \"STATUS\", formatter: this.renderStatusTour.bind(this), headerStyle: { width: \"10%\" } },\n    { dataField: \"action\", text: \"ACTION\", formatter: (id, row) => this.actionCol(id, row), headerStyle: { width: \"18%\", textAlign: 'center' } }\n  ];\n\n  render() {\n    const { params, selectDetail } = this.state;\n    const { fetchingListOrder } = this.props.order\n    const { meta = { total: 1 } } = this.props.order;\n\n    let exportData = this.props.order.dataOrder == null ? [] : this.props.order.dataOrder;\n    let filterData = exportData.filter(exportData => exportData.status == \"PAID\")\n    let no = 0;\n    filterData.map((obj, i) => {\n      no++;\n      obj.index = no;\n    })\n    let viewListTour = this.props.order.dataListOrder == null ? [] : this.props.order.dataListOrder;\n    let index = 0;\n    viewListTour.map((obj, i) => {\n      index++;\n      obj.index = params.page === 1 ? index : index + Number(params.page * params.sizePerPage) - 20;\n    })\n\n    return (\n      <div className=\"section-search\">\n        <Row className=\"search-flight-heading bot\">Data Hotel</Row>\n        <Row className=\"step-form-table\">\n          <div style={{ width: \"100%\" }}>\n            <SubHeader title={\"Data Hotel\"} />\n            <div className=\"form-search\">\n              <PaginationRemote\n                download={filterData == null ? false : true}\n                searchPlaceholder=\"Search Booking ID\"\n                loading={fetchingListOrder}\n                handleChangeSearch={this.handleChangeSearch.bind(this)}\n                searchValue={params.q}\n                data={viewListTour}\n                dataexport={filterData}\n                columns={this.columns}\n                page={params.page}\n                sizePerPage={params.sizePerPage}\n                totalSize={!meta ? 1 : meta.total}\n                onTableChange={this.handleTableChange}\n              />\n              <Modal isOpen={this.state.modalOrder} togglePrimary={this.toggleOrder} className={\"modal-primary \" + this.props.className} >\n                <ModalHeader style={{ background: PRIMARY_COLOR, color: \"#ffffff\" }} toggle={this.toggleOrder}>\n                  Details Order\n                </ModalHeader>\n                <ModalBody style={{ marginTop: 0, marginBottom: 0, paddingTop: 0, paddingBottom: 0 }}>\n                  <Row className=\"show-tab\">\n                    <Tabs>\n                      <InfoPassenger selectDetail={selectDetail} title=\"Pessanger\" />\n                      <ContactDetails selectDetail={selectDetail} title=\"Information Hotel\" />\n                    </Tabs>\n                  </Row>\n                </ModalBody>\n              </Modal>\n            </div>\n          </div>\n        </Row>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}